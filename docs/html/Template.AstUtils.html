<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Template.AstUtils</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Template.AstUtils</h1>

<div class="code">
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="Template.utils.html#"><span class="id" title="library">utils</span></a> <a class="idref" href="Template.monad_utils.html#"><span class="id" title="library">monad_utils</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">List.ListNotations</span> <span class="id" title="var">MonadNotation</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_gref"><span class="id" title="definition">string_of_gref</span></a> <span class="id" title="var">gr</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#gr"><span class="id" title="variable">gr</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#ConstRef"><span class="id" title="constructor">ConstRef</span></a> <span class="id" title="var">s</span> ⇒ <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#IndRef"><span class="id" title="constructor">IndRef</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <span class="id" title="var">s</span> <span class="id" title="var">n</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Inductive " <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.utils.html#string_of_int"><span class="id" title="definition">string_of_int</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#ConstructRef"><span class="id" title="constructor">ConstructRef</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <span class="id" title="var">s</span> <span class="id" title="var">n</span>) <span class="id" title="var">k</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Constructor " <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.utils.html#string_of_int"><span class="id" title="definition">string_of_int</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.utils.html#string_of_int"><span class="id" title="definition">string_of_int</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="gref_eq_dec"><span class="id" title="definition">gref_eq_dec</span></a><br/>
&nbsp;&nbsp;: <span class="id" title="keyword">∀</span> <span class="id" title="var">gr</span> <span class="id" title="var">gr'</span> : <a class="idref" href="Template.Ast.html#global_reference"><span class="id" title="inductive">global_reference</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="Template.AstUtils.html#gr"><span class="id" title="variable">gr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.AstUtils.html#gr'"><span class="id" title="variable">gr'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">{</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="Template.AstUtils.html#gr"><span class="id" title="variable">gr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.AstUtils.html#gr'"><span class="id" title="variable">gr'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#5bf2050e90b21ebc82dc5463d1ba338e"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">eq_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>, <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">eq_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>, <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">decide</span> <span class="id" title="var">equality</span>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">eq_dec</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="decompose_prod"><span class="id" title="definition">decompose_prod</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#name"><span class="id" title="inductive">name</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒ <span class="id" title="keyword">let</span> (<span class="id" title="var">nAs</span>, <span class="id" title="var">B</span>) := <a class="idref" href="Template.AstUtils.html#decompose_prod"><span class="id" title="definition">decompose_prod</span></a> <span class="id" title="var">B</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<span class="id" title="var">ns</span>, <span class="id" title="var">As</span>) := <a class="idref" href="Template.AstUtils.html#nAs"><span class="id" title="variable">nAs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Template.AstUtils.html#ns"><span class="id" title="variable">ns</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Template.AstUtils.html#As"><span class="id" title="variable">As</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.AstUtils.html#B"><span class="id" title="variable">B</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.AstUtils.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="get_ident"><span class="id" title="definition">get_ident</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="Template.Ast.html#name"><span class="id" title="inductive">name</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#nAnon"><span class="id" title="constructor">nAnon</span></a> ⇒ "XX"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#nNamed"><span class="id" title="constructor">nNamed</span></a> <span class="id" title="var">i</span> ⇒ <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="remove_arity"><span class="id" title="definition">remove_arity</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="Template.AstUtils.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">B</span> ⇒ <a class="idref" href="Template.AstUtils.html#remove_arity"><span class="id" title="definition">remove_arity</span></a> <a class="idref" href="Template.AstUtils.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.AstUtils.html#t"><span class="id" title="variable">t</span></a> <span class="comment">(*&nbsp;todo&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="print_nf"><span class="id" title="definition">print_nf</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">msg</span> : <a class="idref" href="Template.AstUtils.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Template.Ast.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tmEval"><span class="id" title="constructor">tmEval</span></a> <a class="idref" href="Template.Ast.html#all"><span class="id" title="constructor">all</span></a> <a class="idref" href="Template.AstUtils.html#msg"><span class="id" title="variable">msg</span></a><a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="Template.Ast.html#tmPrint"><span class="id" title="constructor">tmPrint</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="fail_nf"><span class="id" title="definition">fail_nf</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">msg</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) : <a class="idref" href="Template.Ast.html#TemplateMonad"><span class="id" title="inductive">TemplateMonad</span></a> <a class="idref" href="Template.AstUtils.html#A"><span class="id" title="variable">A</span></a><br/>
&nbsp;&nbsp;:= <a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tmEval"><span class="id" title="constructor">tmEval</span></a> <a class="idref" href="Template.Ast.html#all"><span class="id" title="constructor">all</span></a> <a class="idref" href="Template.AstUtils.html#msg"><span class="id" title="variable">msg</span></a><a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.monad_utils.html#2a4c1535c5b74a8f51daf44d5e512f40"><span class="id" title="notation">&gt;&gt;=</span></a> <a class="idref" href="Template.Ast.html#tmFail"><span class="id" title="constructor">tmFail</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="extract_mind_decl_from_program"><span class="id" title="definition">extract_mind_decl_from_program</span></a> (<span class="id" title="var">id</span> : <a class="idref" href="Template.Ast.html#ident"><span class="id" title="definition">ident</span></a>) (<span class="id" title="var">p</span> : <a class="idref" href="Template.Ast.html#program"><span class="id" title="inductive">program</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="Template.Ast.html#minductive_decl"><span class="id" title="record">minductive_decl</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="Template.AstUtils.html#p"><span class="id" title="variable">p</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#PConstr"><span class="id" title="constructor">PConstr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Template.AstUtils.html#extract_mind_decl_from_program"><span class="id" title="definition">extract_mind_decl_from_program</span></a> <a class="idref" href="Template.AstUtils.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="Template.AstUtils.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#PType"><span class="id" title="constructor">PType</span></a> <span class="id" title="var">id'</span> <span class="id" title="var">uctx</span> <span class="id" title="var">n</span> <span class="id" title="var">inds</span> <span class="id" title="var">p</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#string_dec"><span class="id" title="definition">string_dec</span></a> <a class="idref" href="Template.AstUtils.html#id"><span class="id" title="variable">id</span></a> <span class="id" title="var">id'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#Build_minductive_decl"><span class="id" title="constructor">Build_minductive_decl</span></a> <span class="id" title="var">n</span> <span class="id" title="var">inds</span> <span class="id" title="var">uctx</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.AstUtils.html#extract_mind_decl_from_program"><span class="id" title="definition">extract_mind_decl_from_program</span></a> <a class="idref" href="Template.AstUtils.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="Template.AstUtils.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#PAxiom"><span class="id" title="constructor">PAxiom</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">p</span> ⇒ <a class="idref" href="Template.AstUtils.html#extract_mind_decl_from_program"><span class="id" title="definition">extract_mind_decl_from_program</span></a> <a class="idref" href="Template.AstUtils.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="Template.AstUtils.html#p"><span class="id" title="variable">p</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#PIn"><span class="id" title="constructor">PIn</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="mind_decl_to_entry"><span class="id" title="definition">mind_decl_to_entry</span></a> (<span class="id" title="var">decl</span> : <a class="idref" href="Template.Ast.html#minductive_decl"><span class="id" title="record">minductive_decl</span></a>)<br/>
&nbsp;&nbsp;: <a class="idref" href="Template.Ast.html#mutual_inductive_entry"><span class="id" title="record">mutual_inductive_entry</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> {| <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_record</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">None</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">;</span></a> <span class="comment">(*&nbsp;not&nbsp;a&nbsp;record&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_finite</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">Finite</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">;</span></a> <span class="comment">(*&nbsp;inductive&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_params</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">_</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_inds</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">_</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_universes</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">decl</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">.(</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">ind_universes</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">mind_entry_private</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_entry"><span class="id" title="constructor">None</span></a> |}.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#hd_error"><span class="id" title="definition">List.hd_error</span></a> <span class="id" title="var">decl</span>.(<a class="idref" href="Template.Ast.html#ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">i0</span> ⇒ <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="comment">(*&nbsp;assert&nbsp;false:&nbsp;at&nbsp;least&nbsp;one&nbsp;inductive&nbsp;in&nbsp;a&nbsp;mutual&nbsp;block&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">typ</span> := <a class="idref" href="Template.AstUtils.html#decompose_prod"><span class="id" title="definition">decompose_prod</span></a> <span class="id" title="var">i0</span>.(<a class="idref" href="Template.Ast.html#ind_type"><span class="id" title="projection">ind_type</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">typ</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">names</span> <span class="id" title="var">types</span>] <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">List.firstn</span></a> <span class="id" title="var">decl</span>.(<a class="idref" href="Template.Ast.html#ind_npars"><span class="id" title="projection">ind_npars</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">names</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">List.firstn</span></a> <span class="id" title="var">decl</span>.(<a class="idref" href="Template.Ast.html#ind_npars"><span class="id" title="projection">ind_npars</span></a>)) <span class="id" title="tactic">in</span> <span class="id" title="var">types</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#combine"><span class="id" title="definition">List.combine</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="Template.AstUtils.html#get_ident"><span class="id" title="definition">get_ident</span></a> <span class="id" title="var">names</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <a class="idref" href="Template.Ast.html#LocalAssum"><span class="id" title="constructor">LocalAssum</span></a> <span class="id" title="var">types</span>).<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> <span class="id" title="var">_</span> <span class="id" title="var">decl</span>.(<a class="idref" href="Template.Ast.html#ind_bodies"><span class="id" title="projection">ind_bodies</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> {| <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">mind_entry_typename</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">ind_name</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">mind_entry_arity</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">remove_arity</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">decl</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">.(</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">ind_npars</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">)</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">ind_type</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">mind_entry_template</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">false</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">mind_entry_consnames</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">_</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">mind_entry_lc</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">_</span></a><a class="idref" href="Template.Ast.html#Build_one_inductive_entry"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.AstUtils.html#x"><span class="id" title="variable">x</span></a>)) <span class="id" title="var">ind_ctors</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> ⇒ <a class="idref" href="Template.AstUtils.html#remove_arity"><span class="id" title="definition">remove_arity</span></a> <span class="id" title="var">decl</span>.(<a class="idref" href="Template.Ast.html#ind_npars"><span class="id" title="projection">ind_npars</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.AstUtils.html#x"><span class="id" title="variable">x</span></a>))) <span class="id" title="var">ind_ctors</span>).<br/>
<span class="id" title="keyword">Defined</span>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>