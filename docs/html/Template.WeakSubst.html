<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Template.WeakSubst</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Template.WeakSubst</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.PArith.BinPos.html#"><span class="id" title="library">BinPos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Compare_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Template.Template.html#"><span class="id" title="library">Template</span></a> <a class="idref" href="Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="Template.Induction.html#"><span class="id" title="library">Induction</span></a> <a class="idref" href="Template.utils.html#"><span class="id" title="library">utils</span></a> <a class="idref" href="Template.LiftSubst.html#"><span class="id" title="library">LiftSubst</span></a> <a class="idref" href="Template.Typing.html#"><span class="id" title="library">Typing</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab18"></a><h1 class="section">Weakening and substitution lemmas for typing derivations.</h1>


<div class="paragraph"> </div>

  *WIP*

<div class="paragraph"> </div>

  Standard structural lemmas on typing derivations. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>

<br/>
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>
<span class="id" title="keyword">Generalizable</span> <span class="id" title="keyword">Variables</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="length_app_context"><span class="id" title="lemma">length_app_context</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Typing.html#app_context"><span class="id" title="definition">app_context</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="lemma">app_length</span></a>. <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="map_decl"><span class="id" title="definition">map_decl</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">d</span> : <a class="idref" href="Template.Ast.html#context_decl"><span class="id" title="record">context_decl</span></a>) : <a class="idref" href="Template.Ast.html#context_decl"><span class="id" title="record">context_decl</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_name</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">d</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">.(</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_name</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_body</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">option_map</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">d</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">.(</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_body</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_type</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">d</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">.(</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">decl_type</span></a><a class="idref" href="Template.Ast.html#Build_context_decl"><span class="id" title="constructor">)</span></a> |}.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lift_decl"><span class="id" title="definition">lift_decl</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> (<span class="id" title="var">d</span> : <a class="idref" href="Template.Ast.html#context_decl"><span class="id" title="record">context_decl</span></a>) := <a class="idref" href="Template.WeakSubst.html#map_decl"><span class="id" title="definition">map_decl</span></a> (<a class="idref" href="Template.LiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Template.WeakSubst.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#fold_right"><span class="id" title="definition">List.fold_right</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">decl</span> <a class="idref" href="Template.WeakSubst.html#pat"><span class="id" title="variable">'(</span></a><a class="idref" href="Template.WeakSubst.html#pat"><span class="id" title="variable">k</span></a><a class="idref" href="Template.WeakSubst.html#pat"><span class="id" title="variable">,</span></a> <a class="idref" href="Template.WeakSubst.html#pat"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.WeakSubst.html#pat"><span class="id" title="variable">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_decl"><span class="id" title="definition">lift_decl</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#decl"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="lift_context"><span class="id" title="definition">lift_context</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift0_context"><span class="id" title="lemma">lift0_context</span></a> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span> : <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> 0 <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_decl"><span class="id" title="definition">lift_decl</span></a>, <a class="idref" href="Template.WeakSubst.html#map_decl"><span class="id" title="definition">map_decl</span></a>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ</span>; <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.LiftSubst.html#lift_rec0"><span class="id" title="lemma">lift_rec0</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl_body</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Template.LiftSubst.html#lift_rec0"><span class="id" title="lemma">lift_rec0</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift_context_rec_fst"><span class="id" title="lemma">lift_context_rec_fst</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec_fst"><span class="id" title="lemma">lift_context_rec_fst</span></a> : <span class="id" title="var">lift</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift_context_len"><span class="id" title="lemma">lift_context_len</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span> : <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_len"><span class="id" title="lemma">lift_context_len</span></a> : <span class="id" title="var">lift</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span> <span class="id" title="var">d</span> : <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.WeakSubst.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_decl"><span class="id" title="definition">lift_decl</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Template.WeakSubst.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Template.WeakSubst.html#d"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Template.WeakSubst.html#lift_context_rec_fst"><span class="id" title="lemma">lift_context_rec_fst</span></a> <span class="id" title="var">n</span> <span class="id" title="var">k</span> <span class="id" title="var">Γ</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> →.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a> : <span class="id" title="var">lift</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="some_inj"><span class="id" title="lemma">some_inj</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="Template.WeakSubst.html#A"><span class="id" title="variable">A</span></a>} : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.WeakSubst.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.WeakSubst.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.WeakSubst.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.WeakSubst.html#y"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [=].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> <span class="id" title="var">v</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ'</span>; <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> <span class="id" title="var">v</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">easy</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHΓ'</span>; <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="weaken_safe_nth_ge"><span class="id" title="lemma">weaken_safe_nth_ge</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">v</span> (<span class="id" title="var">isdecl</span> : <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>) <span class="id" title="var">Γ''</span> : <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a> <span class="id" title="var">isdecl'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n0</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="Template.WeakSubst.html#n0"><span class="id" title="variable">n0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>) <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Template.WeakSubst.html#isdecl"><span class="id" title="variable">isdecl</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> (<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a>) <span class="id" title="var">isdecl'</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Template.WeakSubst.html#length_app_context"><span class="id" title="lemma">length_app_context</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lift</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.WeakSubst.html#some_inj"><span class="id" title="lemma">some_inj</span></a>; <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Template.WeakSubst.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <span class="id" title="var">v</span>)); <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Template.WeakSubst.html#lift_context_len"><span class="id" title="lemma">lift_context_len</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#nth_error_app_ge"><span class="id" title="lemma">nth_error_app_ge</span></a>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="Template.WeakSubst.html#lift_context_len"><span class="id" title="lemma">lift_context_len</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="weaken_safe_nth_lt"><span class="id" title="lemma">weaken_safe_nth_lt</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">v</span> (<span class="id" title="var">isdecl</span> : <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>) <span class="id" title="var">Γ''</span> : <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a> <span class="id" title="var">isdecl'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="var">isdecl'</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Template.WeakSubst.html#lift_decl"><span class="id" title="definition">lift_decl</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> (<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">n0</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ <a class="idref" href="Template.WeakSubst.html#n0"><span class="id" title="variable">n0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>) <a class="idref" href="Template.WeakSubst.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Template.WeakSubst.html#isdecl"><span class="id" title="variable">isdecl</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Γ''</span> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Template.WeakSubst.html#length_app_context"><span class="id" title="lemma">length_app_context</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lift</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.WeakSubst.html#some_inj"><span class="id" title="lemma">some_inj</span></a>. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a>. 2:<span class="id" title="tactic">rewrite</span> !<a class="idref" href="Template.WeakSubst.html#length_app_context"><span class="id" title="lemma">length_app_context</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">lift</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> (<span class="id" title="var">Γ</span> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <span class="id" title="var">Γ'</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <span class="id" title="var">v</span> <span class="id" title="var">isdecl</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">nth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Heqnth</span>. <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#nth_error_app_lt"><span class="id" title="lemma">nth_error_app_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Heqnth</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">H</span> <span class="id" title="var">Γ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">v</span> <span class="id" title="var">Hv</span> <span class="id" title="var">nth</span> <span class="id" title="var">Heqnth</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">Γ'</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">v</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Template.WeakSubst.html#lift_context_rec_fst"><span class="id" title="lemma">lift_context_rec_fst</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <span class="id" title="var">Γ'</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.sub_0_r"><span class="id" title="lemma">Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">Heqnth</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.WeakSubst.html#lift_context_rec"><span class="id" title="definition">lift_context_rec</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Template.WeakSubst.html#lift_context_rec_fst"><span class="id" title="lemma">lift_context_rec_fst</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <span class="id" title="var">Γ'</span>). <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHΓ'</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">v</span>  <span class="id" title="var">H</span> <span class="id" title="var">nth</span> <span class="id" title="var">Heqnth</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">IHΓ'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="typecheck_closed"><span class="id" title="lemma">typecheck_closed</span></a> : <a class="idref" href="Template.Typing.html#env_prop"><span class="id" title="definition">env_prop</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.LiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.LiftSubst.html#closedn"><span class="id" title="definition">closedn</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.WeakSubst.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Typing.html#typing_ind_env"><span class="id" title="lemma">typing_ind_env</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Bool.Bool.html#andb_true_iff"><span class="id" title="lemma">andb_true_iff</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.ltb_spec"><span class="id" title="lemma">Nat.ltb_spec</span></a> <span class="id" title="var">n</span> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a>); <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span> <span class="comment">(*&nbsp;Need&nbsp;induction&nbsp;with&nbsp;IHs&nbsp;for&nbsp;environments&nbsp;*)</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">intuition</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;typing&nbsp;spine&nbsp;ind&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>. <span class="comment">(*&nbsp;easy&nbsp;now&nbsp;*)</span><br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="var">H4</span> <span class="id" title="var">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>. <span class="id" title="var">admit</span>. <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;proj&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="BoolSpecSet"><span class="id" title="inductive">BoolSpecSet</span></a> (<span class="id" title="var">P</span> <span class="id" title="var">Q</span> : <span class="id" title="keyword">Prop</span>) : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="BoolSpecT"><span class="id" title="constructor">BoolSpecT</span></a> : <a class="idref" href="Template.WeakSubst.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.WeakSubst.html#BoolSpecSet"><span class="id" title="inductive">BoolSpecSet</span></a> <a class="idref" href="Template.WeakSubst.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Template.WeakSubst.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <a name="BoolSpecF"><span class="id" title="constructor">BoolSpecF</span></a> : <a class="idref" href="Template.WeakSubst.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.WeakSubst.html#BoolSpecSet"><span class="id" title="inductive">BoolSpecSet</span></a> <a class="idref" href="Template.WeakSubst.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="Template.WeakSubst.html#Q"><span class="id" title="variable">Q</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="leb_spec_Set"><span class="id" title="lemma">leb_spec_Set</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>, <a class="idref" href="Template.WeakSubst.html#BoolSpecSet"><span class="id" title="inductive">BoolSpecSet</span></a> (<a class="idref" href="Template.WeakSubst.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.WeakSubst.html#y"><span class="id" title="variable">y</span></a>) (<a class="idref" href="Template.WeakSubst.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="Template.WeakSubst.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Template.WeakSubst.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#01f84f7b4db7ca25b5fbdf8f04a7bebc"><span class="id" title="notation">&lt;=?</span></a> <a class="idref" href="Template.WeakSubst.html#y"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.leb_spec0"><span class="id" title="lemma">Nat.leb_spec0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="weakening_rec"><span class="id" title="lemma">weakening_rec</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> <span class="id" title="var">Γ''</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#type_global_env"><span class="id" title="inductive">type_global_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;`(<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#lift_context"><span class="id" title="definition">lift_context</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> 0 <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.LiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.LiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#b915df46449320823e4bb4c3c514f07a"><span class="id" title="variable">Γ''</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HΓΓ'</span> <span class="id" title="var">HΓ''</span> × <span class="id" title="var">H</span>. <span class="id" title="var">revert</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">HΓ''</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">HΓ''</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">elim</span> (<a class="idref" href="Template.WeakSubst.html#leb_spec_Set"><span class="id" title="lemma">leb_spec_Set</span></a>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Hn</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.WeakSubst.html#weaken_safe_nth_ge"><span class="id" title="lemma">weaken_safe_nth_ge</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.LiftSubst.html#simpl_lift_rec"><span class="id" title="lemma">simpl_lift_rec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.WeakSubst.html#weaken_safe_nth_lt"><span class="id" title="lemma">weaken_safe_nth_lt</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span> <span class="id" title="var">Γ''</span> <span class="id" title="var">Hn</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">isdecl'</span> <span class="id" title="var">H'</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <a class="idref" href="Template.Ast.html#decl_type"><span class="id" title="projection">decl_type</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.WeakSubst.html#lift_decl"><span class="id" title="definition">lift_decl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">t</span>, <a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) (<a class="idref" href="Template.LiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> (<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.LiftSubst.html#lift"><span class="id" title="definition">lift</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ''</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> (<a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><span class="id" title="var">Γ'</span><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#9482aae3d3b06e249765c1225dbb8cbb"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Peano.html#b3eea360671e1b32b18a26e15b3aace3"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">at</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="Template.LiftSubst.html#permute_lift_rec"><span class="id" title="lemma">permute_lift_rec</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>. <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H'</span>. <span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping2</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span>) <span class="id" title="var">HΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping2</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.Plus.html#plus_0_r"><span class="id" title="abbreviation">plus_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtyping2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping2</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping2</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span>) <span class="id" title="var">HΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping2</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">red</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">s1</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.Plus.html#plus_0_r"><span class="id" title="abbreviation">plus_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtyping2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping2</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping3</span> <span class="id" title="var">Γ</span> (<span class="id" title="var">Γ'</span> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">b_ty</span>) <span class="id" title="var">HΣ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping3</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHtyping3</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">Γ''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">IHtyping3</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping2</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.WeakSubst.html#lift_context_snoc"><span class="id" title="lemma">lift_context_snoc</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Arith.Plus.html#plus_0_r"><span class="id" title="abbreviation">plus_0_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHtyping3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHtyping3</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;Conv&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="type_local_env_app"><span class="id" title="lemma">type_local_env_app</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) : <a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="weakening"><span class="id" title="lemma">weakening</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">Γ'</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#type_global_env"><span class="id" title="inductive">type_global_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;`(<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#5088d537ed2184d5335ff4a85bdd09ae"><span class="id" title="notation">,,,</span></a> <a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> <a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">#|</span></a><a class="idref" href="Template.WeakSubst.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a><a class="idref" href="Template.Typing.html#19888aecdca1f7a0c863d6bf41295ea5"><span class="id" title="notation">|</span></a> <span class="id" title="var">T</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HΓΓ'</span> × <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<a class="idref" href="Template.WeakSubst.html#weakening_rec"><span class="id" title="axiom">weakening_rec</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">Γ'</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">forward</span> <span class="id" title="var">t0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="Template.WeakSubst.html#type_local_env_app"><span class="id" title="axiom">type_local_env_app</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">HΓΓ'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="substitution"><span class="id" title="lemma">substitution</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">u</span> <span class="id" title="var">U</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#type_global_env"><span class="id" title="inductive">type_global_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Typing.html#type_local_env"><span class="id" title="inductive">type_local_env</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;`(<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <a class="idref" href="Template.WeakSubst.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.WeakSubst.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <span class="id" title="var">T</span> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.WeakSubst.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.WeakSubst.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.7.1/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.WeakSubst.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.WeakSubst.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.WeakSubst.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">{</span></a>0 <a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">:=</span></a> <a class="idref" href="Template.WeakSubst.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">}</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <span class="id" title="var">T</span> <a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">{</span></a>0 <a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">:=</span></a> <a class="idref" href="Template.WeakSubst.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="Template.LiftSubst.html#937c0317d02e74df4646cec1f8f99e28"><span class="id" title="notation">}</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HΣ</span> <span class="id" title="var">HΓ</span> × <span class="id" title="var">Ht</span> <span class="id" title="var">Hu</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>