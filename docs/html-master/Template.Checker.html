<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Template.Checker</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Template.Checker</h1>

<div class="code">
<span class="comment">(*&nbsp;Distributed&nbsp;under&nbsp;the&nbsp;terms&nbsp;of&nbsp;the&nbsp;MIT&nbsp;license.&nbsp;&nbsp;&nbsp;*)</span><br/>

<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#"><span class="id" title="library">String</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Program.html#"><span class="id" title="library">Program</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.PArith.BinPos.html#"><span class="id" title="library">BinPos</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Arith.Compare_dec.html#"><span class="id" title="library">Compare_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Template.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="Template.kernel.univ.html#"><span class="id" title="library">univ</span></a> <a class="idref" href="Template.Ast.html#"><span class="id" title="library">Ast</span></a> <a class="idref" href="Template.Induction.html#"><span class="id" title="library">Induction</span></a> <a class="idref" href="Template.LiftSubst.html#"><span class="id" title="library">LiftSubst</span></a> <a class="idref" href="Template.UnivSubst.html#"><span class="id" title="library">UnivSubst</span></a> <a class="idref" href="Template.Typing.html#"><span class="id" title="library">Typing</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#"><span class="id" title="library">monad_utils</span></a> <a class="idref" href="Template.utils.html#"><span class="id" title="library">utils</span></a>.<br/>
<span class="id" title="keyword">Import</span> <span class="id" title="var">MonadNotation</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab42"></a><h1 class="section">Coq type-checker for kernel terms</h1>


<div class="paragraph"> </div>

  *WIP*

<div class="paragraph"> </div>

  Implemets <span class="inlinecode"><a class="idref" href="Template.Checker.html#typecheck_program"><span class="id" title="definition">typecheck_program</span></a></span> which returns an error and
  on success should guarantee that the term has the given type.
  Currently uses fuel to implement reduction.

<div class="paragraph"> </div>

  Correctness and completeness proofs are a work-in-progress.

<div class="paragraph"> </div>

  This file implements reduction with a stack machine <span class="inlinecode"><a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a></span>,
  conversion/cumulativity with the first-order fast-path heuristic <span class="inlinecode"><a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a></span>
  that are used to type-check terms in reasonable time. 
</div>
<div class="code">
<span class="id" title="keyword">Set</span> <span class="id" title="var">Asymmetric</span> <span class="id" title="var">Patterns</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">start</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Σ</span> := <span class="id" title="tactic">fresh</span> "Σ" <span class="id" title="tactic">in</span> <span class="id" title="tactic">red</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">setenv</span> <span class="id" title="var">Σ</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fill_tApp</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id" title="keyword">context</span>[<a class="idref" href="Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span>] ⇒ <span class="id" title="var">unify</span> <span class="id" title="var">x</span> (@<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="RedFlags"><span class="id" title="module">RedFlags</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="RedFlags.t"><span class="id" title="record">t</span></a> := <a name="RedFlags.mk"><span class="id" title="constructor">mk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <a name="RedFlags.beta"><span class="id" title="projection">beta</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="RedFlags.iota"><span class="id" title="projection">iota</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="RedFlags.zeta"><span class="id" title="projection">zeta</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="RedFlags.delta"><span class="id" title="projection">delta</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="RedFlags.fix_"><span class="id" title="projection">fix_</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="RedFlags.cofix_"><span class="id" title="projection">cofix_</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> }.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="RedFlags.default"><span class="id" title="definition">default</span></a> := <a class="idref" href="Template.Checker.html#RedFlags.mk"><span class="id" title="constructor">mk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#RedFlags"><span class="id" title="module">RedFlags</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Reduce"><span class="id" title="section">Reduce</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">flags</span> : <a class="idref" href="Template.Checker.html#t"><span class="id" title="record">RedFlags.t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">Σ</span> : <a class="idref" href="Template.Ast.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="zip"><span class="id" title="definition">zip</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) := <a class="idref" href="Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="reduce_stack"><span class="id" title="definition">reduce_stack</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">stack</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#zeta"><span class="id" title="projection">RedFlags.zeta</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">d</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#d"><span class="id" title="variable">d</span></a>.(<a class="idref" href="Template.Ast.html#decl_body"><span class="id" title="projection">decl_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">b</span>) <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b</span> <span class="id" title="var">_</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#zeta"><span class="id" title="projection">RedFlags.zeta</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.LiftSubst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <span class="id" title="var">b</span> <span class="id" title="var">c</span>) <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span> ⇒ <span class="comment">(*&nbsp;TODO&nbsp;Universes&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#delta"><span class="id" title="projection">RedFlags.delta</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Typing.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="Template.Checker.html#0746c6e53d2d90fe33dfcf64481c842b"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">body</span> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">f</span> (<span class="id" title="var">args</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a>)<br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#beta"><span class="id" title="projection">RedFlags.beta</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">args'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
CBV reduction: we reduce arguments before substitution 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.LiftSubst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#a'"><span class="id" title="variable">a'</span></a>) <span class="id" title="var">b</span>) <span class="id" title="var">args'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="var">b'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span>) <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">b</span> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">ty</span> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#fix_"><span class="id" title="projection">RedFlags.fix_</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">nf</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Typing.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">narg</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">fn</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#nf"><span class="id" title="variable">nf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span>  <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">List.nth_error</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a> <span class="id" title="var">narg</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#c'"><span class="id" title="variable">c'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">fn</span> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a>)) <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a>) (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">c</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#iota"><span class="id" title="projection">RedFlags.iota</span></a> <a class="idref" href="Template.Checker.html#Reduce.flags"><span class="id" title="variable">flags</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#c'"><span class="id" title="variable">c'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">c</span> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.Typing.html#iota_red"><span class="id" title="definition">iota_red</span></a> <span class="id" title="var">par</span> <span class="id" title="var">c</span> <span class="id" title="var">args</span> <span class="id" title="var">brs</span>) <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#c'"><span class="id" title="variable">c'</span></a>) <span class="id" title="var">brs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#stack"><span class="id" title="variable">stack</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reduce_stack_term"><span class="id" title="definition">reduce_stack_term</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">res</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#res"><span class="id" title="variable">res</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="fix_decls"><span class="id" title="definition">fix_decls</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Template.Ast.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <span class="id" title="var">aux</span> <span class="id" title="var">acc</span> <span class="id" title="var">ds</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Template.Checker.html#acc"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">d</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">ds</span> ⇒ <a class="idref" href="Template.Checker.html#aux"><span class="id" title="variable">aux</span></a> (<a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">d</span>.(<a class="idref" href="Template.Ast.html#dname"><span class="id" title="projection">dname</span></a>) <span class="id" title="var">d</span>.(<a class="idref" href="Template.Ast.html#dtype"><span class="id" title="projection">dtype</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="Template.Checker.html#acc"><span class="id" title="variable">acc</span></a>) <a class="idref" href="Template.Checker.html#ds"><span class="id" title="variable">ds</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Template.Checker.html#aux"><span class="id" title="variable">aux</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Close</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="map_constr_with_binders"><span class="id" title="definition">map_constr_with_binders</span></a> (<span class="id" title="var">f</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) <span class="id" title="var">Γ</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">i</span> ⇒ <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="Template.Ast.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">T</span> <span class="id" title="var">M</span> ⇒ <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">M</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">u</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">u</span>) (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>) <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">A'</span> := <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">A</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <a class="idref" href="Template.Checker.html#A'"><span class="id" title="variable">A'</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <a class="idref" href="Template.Checker.html#A'"><span class="id" title="variable">A'</span></a>) <span class="id" title="var">B</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">c</span> <span class="id" title="var">kind</span> <span class="id" title="var">t</span> ⇒ <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span>) <span class="id" title="var">kind</span> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">b'</span> := <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">t'</span> := <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">na</span> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a>) <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">brs'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="Template.Induction.html#on_snd"><span class="id" title="definition">on_snd</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a>)) <span class="id" title="var">brs</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind</span> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">p</span>) (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span>) <a class="idref" href="Template.Checker.html#brs'"><span class="id" title="variable">brs'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Γ'</span> := <a class="idref" href="Template.Checker.html#fix_decls"><span class="id" title="definition">fix_decls</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mfix'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="Template.Induction.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>)) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <a class="idref" href="Template.Checker.html#mfix'"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">idx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">k</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Γ'</span> := <a class="idref" href="Template.Checker.html#fix_decls"><span class="id" title="definition">fix_decls</span></a> <span class="id" title="var">mfix</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">mfix'</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">List.map</span></a> (<a class="idref" href="Template.Induction.html#map_def"><span class="id" title="definition">map_def</span></a> (<a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#530641ccab6ad93b36bab5ed00cbc670"><span class="id" title="variable">Γ'</span></a>)) <span class="id" title="var">mfix</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <a class="idref" href="Template.Checker.html#mfix'"><span class="id" title="variable">mfix'</span></a> <span class="id" title="var">k</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">x</span> ⇒ <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="reduce_opt"><span class="id" title="definition">reduce_opt</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reduce_stack_term"><span class="id" title="definition">reduce_stack_term</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Checker.html#map_constr_with_binders"><span class="id" title="definition">map_constr_with_binders</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reduce_opt"><span class="id" title="definition">reduce_opt</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t</span> ⇒ <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">end</span>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Reduce"><span class="id" title="section">Reduce</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="isConstruct"><span class="id" title="definition">isConstruct</span></a> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="conv_pb"><span class="id" title="inductive">conv_pb</span></a> :=<br/>
| <a name="Conv"><span class="id" title="constructor">Conv</span></a><br/>
| <a name="Cumul"><span class="id" title="constructor">Cumul</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Conversion"><span class="id" title="section">Conversion</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">flags</span> : <a class="idref" href="Template.Checker.html#t"><span class="id" title="record">RedFlags.t</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">Σ</span> : <a class="idref" href="Template.Ast.html#global_context"><span class="id" title="definition">global_context</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> := <a class="idref" href="Template.Checker.html#mk"><span class="id" title="constructor">RedFlags.mk</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="unfold_one_fix"><span class="id" title="definition">unfold_one_fix</span></a> <span class="id" title="var">n</span> <span class="id" title="var">Γ</span> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unf</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Typing.html#unfold_fix"><span class="id" title="definition">unfold_fix</span></a> <a class="idref" href="Template.Checker.html#mfix"><span class="id" title="variable">mfix</span></a> <a class="idref" href="Template.Checker.html#idx"><span class="id" title="variable">idx</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">arg</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">fn</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#unf"><span class="id" title="variable">unf</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="var">arg</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cred</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">cred</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Template.Checker.html#isConstruct"><span class="id" title="definition">isConstruct</span></a> <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">fn</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="unfold_one_case"><span class="id" title="definition">unfold_one_case</span></a> <span class="id" title="var">n</span> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cred</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack_term"><span class="id" title="definition">reduce_stack_term</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reducible_head"><span class="id" title="definition">reducible_head</span></a> <span class="id" title="var">n</span> <span class="id" title="var">Γ</span> <span class="id" title="var">c</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> ⇒ <a class="idref" href="Template.Checker.html#unfold_one_fix"><span class="id" title="definition">unfold_one_fix</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">p'</span> <span class="id" title="var">c'</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#unfold_one_case"><span class="id" title="definition">unfold_one_case</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">p'</span> <span class="id" title="var">c'</span> <span class="id" title="var">brs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">_</span> ⇒ <span class="comment">(*&nbsp;TODO&nbsp;Universes&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Typing.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">c</span> := <a class="idref" href="Template.Typing.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="opt_bool_to_bool"><span class="id" title="definition">opt_bool_to_bool</span></a> (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="isconv"><span class="id" title="definition">isconv</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">leq</span> : <a class="idref" href="Template.Checker.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t1</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">t2</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) {<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">red1</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">red2</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#red1"><span class="id" title="variable">red1</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#red2"><span class="id" title="variable">red2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv_prog"><span class="id" title="definition">isconv_prog</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">with</span> <a name="isconv_prog"><span class="id" title="definition">isconv_prog</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">leq</span> : <a class="idref" href="Template.Checker.html#conv_pb"><span class="id" title="inductive">conv_pb</span></a>) (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t1</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">l1</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">t2</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">l2</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="keyword">struct</span> <span class="id" title="var">n</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span> 0 ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> | <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">isconv_stacks</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.utils.html#forallb2"><span class="id" title="definition">forallb2</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="Template.Checker.html#opt_bool_to_bool"><span class="id" title="definition">opt_bool_to_bool</span></a> (<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a>)) <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">on_cond</span> (<span class="id" title="var">b</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) := <span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Template.Checker.html#isconv_stacks"><span class="id" title="variable">isconv_stacks</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
Test equality at each step ?? 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;if&nbsp;eq_term&nbsp;t1&nbsp;t2&nbsp;&amp;&amp;&nbsp;(match&nbsp;isconv_stacks&nbsp;l1&nbsp;l2&nbsp;with&nbsp;Some&nbsp;true&nbsp;=&gt;&nbsp;true&nbsp;|&nbsp;_&nbsp;=&gt;&nbsp;false)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;then&nbsp;ret&nbsp;true&nbsp;else&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">fallback</span> (<span class="id" title="var">x</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reducible_head"><span class="id" title="definition">reducible_head</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">redt</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#redt"><span class="id" title="variable">redt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv_prog"><span class="id" title="definition">isconv_prog</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reducible_head"><span class="id" title="definition">reducible_head</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">redt</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#redt"><span class="id" title="variable">redt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv_prog"><span class="id" title="definition">isconv_prog</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#on_cond"><span class="id" title="variable">on_cond</span></a> (<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a> ⇒ <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#Cumul"><span class="id" title="constructor">Cumul</span></a> ⇒ <a class="idref" href="Template.Typing.html#leq_term"><span class="id" title="definition">leq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a>, <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">args</span>, <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f'</span> <span class="id" title="var">args'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="comment">(*&nbsp;Impossible&nbsp;*)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">t</span> <span class="id" title="var">_</span> <span class="id" title="var">v</span>, <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">u</span> <span class="id" title="var">_</span> <span class="id" title="var">v'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="comment">(*&nbsp;Impossible&nbsp;*)</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span>, <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c'</span> <span class="id" title="var">u'</span> ⇒ <span class="comment">(*&nbsp;TODO&nbsp;Universes&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_constant"><span class="id" title="definition">eq_constant</span></a> <span class="id" title="var">c</span> <span class="id" title="var">c'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#isconv_stacks"><span class="id" title="variable">isconv_stacks</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="comment">(*&nbsp;FO&nbsp;optim&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span> <span class="comment">(*&nbsp;Unfold&nbsp;both&nbsp;bodies&nbsp;at&nbsp;once&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">body</span> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="var">body</span> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">c'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="var">body</span> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">body</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">body</span> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>, <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b'</span> <span class="id" title="var">t'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cnv</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Template.Checker.html#cnv"><span class="id" title="variable">cnv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span>, <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">b'</span> <span class="id" title="var">t'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cnv</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">b'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> (<a class="idref" href="Template.Checker.html#cnv"><span class="id" title="variable">cnv</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span>) <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">par'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">c'</span> <span class="id" title="var">brs'</span> ⇒ <span class="comment">(*&nbsp;Hnf&nbsp;did&nbsp;not&nbsp;reduce,&nbsp;maybe&nbsp;delta&nbsp;needed&nbsp;in&nbsp;c&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <span class="id" title="var">c</span> <span class="id" title="var">c'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.utils.html#forallb2"><span class="id" title="definition">forallb2</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a>) <span class="id" title="var">brs</span> <span class="id" title="var">brs'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cred</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack_term"><span class="id" title="definition">reduce_stack_term</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">c'red</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack_term"><span class="id" title="definition">reduce_stack_term</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="var">c'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#c'red"><span class="id" title="variable">c'red</span></a> <span class="id" title="var">c'</span> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> <a class="idref" href="Template.Checker.html#cred"><span class="id" title="variable">cred</span></a> <span class="id" title="var">brs</span>) <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> (<a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> <a class="idref" href="Template.Checker.html#c'red"><span class="id" title="variable">c'red</span></a> <span class="id" title="var">brs'</span>) <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span>, <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p'</span> <span class="id" title="var">c'</span> ⇒ <a class="idref" href="Template.Checker.html#on_cond"><span class="id" title="variable">on_cond</span></a> (<a class="idref" href="Template.Typing.html#eq_projection"><span class="id" title="definition">eq_projection</span></a> <span class="id" title="var">p</span> <span class="id" title="var">p'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <span class="id" title="var">c</span> <span class="id" title="var">c'</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>, <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix'</span> <span class="id" title="var">idx'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;Hnf&nbsp;did&nbsp;not&nbsp;reduce,&nbsp;maybe&nbsp;delta&nbsp;needed&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.Checker.html#opt_bool_to_bool"><span class="id" title="definition">opt_bool_to_bool</span></a> (<a class="idref" href="Template.Checker.html#isconv_stacks"><span class="id" title="variable">isconv_stacks</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#unfold_one_fix"><span class="id" title="definition">unfold_one_fix</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">redt</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#redt"><span class="id" title="variable">redt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv_prog"><span class="id" title="definition">isconv_prog</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#unfold_one_fix"><span class="id" title="definition">unfold_one_fix</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">mfix'</span> <span class="id" title="var">idx'</span> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">redt</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#nodelta_flags"><span class="id" title="definition">nodelta_flags</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">t2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#redt"><span class="id" title="variable">redt</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#isconv_prog"><span class="id" title="definition">isconv_prog</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#leq"><span class="id" title="variable">leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a> <a class="idref" href="Template.Checker.html#l2"><span class="id" title="variable">l2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">idx</span>, <a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix'</span> <span class="id" title="var">idx'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#on_cond"><span class="id" title="variable">on_cond</span></a> (<a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#20d7f35299e25ef4593853c1373c6f60"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t1"><span class="id" title="variable">t1</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.Checker.html#fallback"><span class="id" title="variable">fallback</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Conversion"><span class="id" title="section">Conversion</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="try_reduce"><span class="id" title="definition">try_reduce</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reduce_opt"><span class="id" title="definition">reduce_opt</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t'</span> ⇒ <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="type_error"><span class="id" title="inductive">type_error</span></a> :=<br/>
| <a name="UnboundRel"><span class="id" title="constructor">UnboundRel</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="UnboundVar"><span class="id" title="constructor">UnboundVar</span></a> (<span class="id" title="var">id</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
| <a name="UnboundMeta"><span class="id" title="constructor">UnboundMeta</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="UnboundEvar"><span class="id" title="constructor">UnboundEvar</span></a> (<span class="id" title="var">ev</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="UndeclaredConstant"><span class="id" title="constructor">UndeclaredConstant</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>)<br/>
| <a name="UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="Template.Ast.html#inductive"><span class="id" title="record">inductive</span></a>)<br/>
| <a name="UndeclaredConstructor"><span class="id" title="constructor">UndeclaredConstructor</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="Template.Ast.html#inductive"><span class="id" title="record">inductive</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">t'</span> <span class="id" title="var">u'</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="NotASort"><span class="id" title="constructor">NotASort</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="NotAProduct"><span class="id" title="constructor">NotAProduct</span></a> (<span class="id" title="var">t</span> <span class="id" title="var">t'</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="NotAnInductive"><span class="id" title="constructor">NotAnInductive</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
| <a name="IllFormedFix"><span class="id" title="constructor">IllFormedFix</span></a> (<span class="id" title="var">m</span> : <a class="idref" href="Template.Ast.html#mfixpoint"><span class="id" title="definition">mfixpoint</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>)<br/>
| <a name="UnsatisfiedConstraints"><span class="id" title="constructor">UnsatisfiedConstraints</span></a> (<span class="id" title="var">c</span> : <a class="idref" href="Template.kernel.univ.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a>)<br/>
| <a name="NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> (<span class="id" title="var">n</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_list_aux"><span class="id" title="definition">string_of_list_aux</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="keyword">fix</span> <span class="id" title="var">aux</span> <span class="id" title="var">l</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ ""<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">a</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#aux"><span class="id" title="variable">aux</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">in</span> <a class="idref" href="Template.Checker.html#aux"><span class="id" title="variable">aux</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_list"><span class="id" title="definition">string_of_list</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;"[" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_list_aux"><span class="id" title="definition">string_of_list_aux</span></a> <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "]".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_level"><span class="id" title="definition">string_of_level</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.lProp"><span class="id" title="constructor">Level.lProp</span></a> ⇒ "Prop"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.lSet"><span class="id" title="constructor">Level.lSet</span></a> ⇒ "Set"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.Level"><span class="id" title="constructor">Level.Level</span></a> <span class="id" title="var">s</span> ⇒ <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.Var"><span class="id" title="constructor">Level.Var</span></a> <span class="id" title="var">n</span> ⇒ "Var" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_level_expr"><span class="id" title="definition">string_of_level_expr</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_level"><span class="id" title="definition">string_of_level</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <span class="id" title="var">b</span> <span class="id" title="keyword">then</span> "+1" <span class="id" title="keyword">else</span> ""<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_sort"><span class="id" title="definition">string_of_sort</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="Template.kernel.univ.html#universe"><span class="id" title="definition">universe</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> <a class="idref" href="Template.Checker.html#string_of_level_expr"><span class="id" title="definition">string_of_level_expr</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_name"><span class="id" title="definition">string_of_name</span></a> (<span class="id" title="var">na</span> : <a class="idref" href="Template.Ast.html#name"><span class="id" title="inductive">name</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#na"><span class="id" title="variable">na</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#nAnon"><span class="id" title="constructor">nAnon</span></a> ⇒ "Anonymous"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#nNamed"><span class="id" title="constructor">nNamed</span></a> <span class="id" title="var">n</span> ⇒ <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_universe_instance"><span class="id" title="definition">string_of_universe_instance</span></a> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> <a class="idref" href="Template.Checker.html#string_of_level"><span class="id" title="definition">string_of_level</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_def"><span class="id" title="definition">string_of_def</span></a> {<span class="id" title="var">A</span> : <span class="id" title="keyword">Set</span>} (<span class="id" title="var">f</span> : <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">def</span> : <a class="idref" href="Template.Ast.html#def"><span class="id" title="record">def</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;"(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> (<a class="idref" href="Template.Ast.html#dname"><span class="id" title="projection">dname</span></a> <a class="idref" href="Template.Checker.html#def"><span class="id" title="variable">def</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Template.Ast.html#dtype"><span class="id" title="projection">dtype</span></a> <a class="idref" href="Template.Checker.html#def"><span class="id" title="variable">def</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> (<a class="idref" href="Template.Ast.html#dbody"><span class="id" title="projection">dbody</span></a> <a class="idref" href="Template.Checker.html#def"><span class="id" title="variable">def</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> (<a class="idref" href="Template.Ast.html#rarg"><span class="id" title="projection">rarg</span></a> <a class="idref" href="Template.Checker.html#def"><span class="id" title="variable">def</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")".<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="Template.Ast.html#inductive"><span class="id" title="record">inductive</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> (<a class="idref" href="Template.Ast.html#inductive_ind"><span class="id" title="projection">inductive_ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="string_of_term"><span class="id" title="definition">string_of_term</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">n</span> ⇒ "Rel(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">n</span> ⇒ "Var(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tMeta"><span class="id" title="constructor">tMeta</span></a> <span class="id" title="var">n</span> ⇒ "Meta(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ "Evar(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">ev</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "[]" <span class="comment">(*&nbsp;TODO&nbsp;*)</span>  <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span> ⇒ "Sort(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_sort"><span class="id" title="definition">string_of_sort</span></a> <span class="id" title="var">s</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">c</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span> ⇒ "Cast(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="comment">(*&nbsp;TODO&nbsp;*)</span> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> ⇒ "Prod(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> <span class="id" title="var">na</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t</span> ⇒ "Lambda(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> <span class="id" title="var">na</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">na</span> <span class="id" title="var">b</span> <span class="id" title="var">t'</span> <span class="id" title="var">t</span> ⇒ "LetIn(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_name"><span class="id" title="definition">string_of_name</span></a> <span class="id" title="var">na</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">f</span> <span class="id" title="var">l</span> ⇒ "App(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">f</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">c</span> <span class="id" title="var">u</span> ⇒ "Const(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_universe_instance"><span class="id" title="definition">string_of_universe_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">u</span> ⇒ "Ind(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_universe_instance"><span class="id" title="definition">string_of_universe_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">u</span> ⇒ "Construct(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_universe_instance"><span class="id" title="definition">string_of_universe_instance</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">t</span> <span class="id" title="var">p</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Case(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a>)) <span class="id" title="var">brs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;"Proj(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_inductive"><span class="id" title="definition">string_of_inductive</span></a> <span class="id" title="var">ind</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">k</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ","<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">c</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">l</span> <span class="id" title="var">n</span> ⇒ "Fix(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<a class="idref" href="Template.Checker.html#string_of_def"><span class="id" title="definition">string_of_def</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a>) <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">l</span> <span class="id" title="var">n</span> ⇒ "CoFix(" <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#string_of_list"><span class="id" title="definition">string_of_list</span></a> (<a class="idref" href="Template.Checker.html#string_of_def"><span class="id" title="definition">string_of_def</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a>) <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> "," <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> ")"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="string_of_type_error"><span class="id" title="definition">string_of_type_error</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="Template.Checker.html#type_error"><span class="id" title="inductive">type_error</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UnboundRel"><span class="id" title="constructor">UnboundRel</span></a> <span class="id" title="var">n</span> ⇒ "Unboound rel " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">n</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UnboundVar"><span class="id" title="constructor">UnboundVar</span></a> <span class="id" title="var">id</span> ⇒ "Unbound var " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">id</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UnboundMeta"><span class="id" title="constructor">UnboundMeta</span></a> <span class="id" title="var">m</span> ⇒ "Unbound meta " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UnboundEvar"><span class="id" title="constructor">UnboundEvar</span></a> <span class="id" title="var">ev</span> ⇒ "Unbound evar " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.utils.html#string_of_nat"><span class="id" title="definition">string_of_nat</span></a> <span class="id" title="var">ev</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UndeclaredConstant"><span class="id" title="constructor">UndeclaredConstant</span></a> <span class="id" title="var">c</span> ⇒ "Undeclared constant " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> <span class="id" title="var">c</span> ⇒ "Undeclared inductive " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UndeclaredConstructor"><span class="id" title="constructor">UndeclaredConstructor</span></a> <span class="id" title="var">c</span> <span class="id" title="var">i</span> ⇒ "Undeclared inductive " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#inductive_mind"><span class="id" title="projection">inductive_mind</span></a> <span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">t'</span> <span class="id" title="var">u'</span> ⇒ "Terms are not convertible: " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">t</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " after reduction: " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">t'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> " " <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#6c3bece79abbc48868e7371c2d2fa55c"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.Checker.html#string_of_term"><span class="id" title="definition">string_of_term</span></a> <span class="id" title="var">u'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#NotASort"><span class="id" title="constructor">NotASort</span></a> <span class="id" title="var">t</span> ⇒ "Not a sort"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#NotAProduct"><span class="id" title="constructor">NotAProduct</span></a> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> ⇒ "Not a product"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#NotAnInductive"><span class="id" title="constructor">NotAnInductive</span></a> <span class="id" title="var">t</span> ⇒ "Not an inductive"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#IllFormedFix"><span class="id" title="constructor">IllFormedFix</span></a> <span class="id" title="var">m</span> <span class="id" title="var">i</span> ⇒ "Ill-formed recursive definition"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#UnsatisfiedConstraints"><span class="id" title="constructor">UnsatisfiedConstraints</span></a> <span class="id" title="var">c</span> ⇒ "Unsatisfied constraints"<br/>
&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> <span class="id" title="var">n</span> ⇒ "Not enough fuel"<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a name="typing_result"><span class="id" title="inductive">typing_result</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) :=<br/>
| <a name="Checked"><span class="id" title="constructor">Checked</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>)<br/>
| <a name="TypeError"><span class="id" title="constructor">TypeError</span></a> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Checker.html#type_error"><span class="id" title="inductive">type_error</span></a>).<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Arguments</span> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">a</span>.<br/>
<span class="id" title="keyword">Global</span> <span class="id" title="var">Arguments</span> <a class="idref" href="Template.Checker.html#TypeError"><span class="id" title="constructor">TypeError</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">t</span>.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="typing_monad"><span class="id" title="instance">typing_monad</span></a> : <a class="idref" href="Template.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> :=<br/>
&nbsp;&nbsp;{| <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">ret</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">A</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">bind</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">A</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">B</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">m</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">match</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">m</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">|</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">|</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">TypeError</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">t</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">TypeError</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">end</span></a><br/>
&nbsp;&nbsp;|}.<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="monad_exc"><span class="id" title="instance">monad_exc</span></a> : <a class="idref" href="Template.monad_utils.html#MonadExc"><span class="id" title="class">MonadExc</span></a> <a class="idref" href="Template.Checker.html#type_error"><span class="id" title="inductive">type_error</span></a> <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> :=<br/>
&nbsp;&nbsp;{ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> <span class="id" title="var">A</span> <span class="id" title="var">e</span> := <a class="idref" href="Template.Checker.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <a class="idref" href="Template.Checker.html#e"><span class="id" title="variable">e</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#catch"><span class="id" title="method">catch</span></a> <span class="id" title="var">A</span> <span class="id" title="var">m</span> <span class="id" title="var">f</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#m"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Template.Checker.html#m"><span class="id" title="variable">m</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">t</span> ⇒ <a class="idref" href="Template.Checker.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Class</span> <a name="Fuel"><span class="id" title="record">Fuel</span></a> := { <a name="fuel"><span class="id" title="projection">fuel</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> }.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="check_conv_gen"><span class="id" title="definition">check_conv_gen</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>} <span class="id" title="var">conv_pb</span> <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a> <a class="idref" href="Template.Checker.html#conv_pb"><span class="id" title="variable">conv_pb</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <span class="id" title="keyword">if</span> <span class="id" title="var">b</span> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="check_conv_leq"><span class="id" title="definition">check_conv_leq</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>} := <a class="idref" href="Template.Checker.html#check_conv_gen"><span class="id" title="definition">check_conv_gen</span></a> <a class="idref" href="Template.Checker.html#Cumul"><span class="id" title="constructor">Cumul</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="check_conv"><span class="id" title="definition">check_conv</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>} := <a class="idref" href="Template.Checker.html#check_conv_gen"><span class="id" title="definition">check_conv_gen</span></a> <a class="idref" href="Template.Checker.html#Conv"><span class="id" title="constructor">Conv</span></a>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <a name="conv_spec"><span class="id" title="axiom">conv_spec</span></a> : <span class="id" title="keyword">∀</span> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>} <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#c56e45d739a54174854eab89c3ad504f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#c56e45d739a54174854eab89c3ad504f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#c56e45d739a54174854eab89c3ad504f"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Template.Checker.html#check_conv"><span class="id" title="definition">check_conv</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <a name="cumul_spec"><span class="id" title="axiom">cumul_spec</span></a> : <span class="id" title="keyword">∀</span> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} {<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>} <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Template.Checker.html#check_conv_leq"><span class="id" title="definition">check_conv_leq</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
<span class="id" title="keyword">Conjecture</span> <a name="reduce_cumul"><span class="id" title="axiom">reduce_cumul</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} <span class="id" title="var">Σ</span> <span class="id" title="var">Γ</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span>, <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#try_reduce"><span class="id" title="definition">try_reduce</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Typecheck"><span class="id" title="section">Typecheck</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">Σ</span> : <a class="idref" href="Template.Ast.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="hnf_stack"><span class="id" title="definition">hnf_stack</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reduce_stack"><span class="id" title="definition">reduce_stack</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="Template.Checker.html#2b8c1fc5d46c0b0d1e8aed9c4fccfc9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t'</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reduce"><span class="id" title="definition">reduce</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#reduce_opt"><span class="id" title="definition">reduce_opt</span></a> <a class="idref" href="Template.Checker.html#default"><span class="id" title="definition">RedFlags.default</span></a> <a class="idref" href="Template.Checker.html#2b8c1fc5d46c0b0d1e8aed9c4fccfc9e"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">t'</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">t'</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotEnoughFuel"><span class="id" title="constructor">NotEnoughFuel</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="Template.kernel.univ.html#universe"><span class="id" title="definition">universe</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#hnf_stack"><span class="id" title="definition">hnf_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">s</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotASort"><span class="id" title="constructor">NotASort</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#hnf_stack"><span class="id" title="definition">hnf_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotAProduct"><span class="id" title="constructor">NotAProduct</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> (<a class="idref" href="Template.Checker.html#zip"><span class="id" title="definition">zip</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> (<a class="idref" href="Template.Ast.html#inductive"><span class="id" title="record">inductive</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#hnf_stack"><span class="id" title="definition">hnf_stack</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">i</span> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotAnInductive"><span class="id" title="constructor">NotAnInductive</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Typecheck"><span class="id" title="section">Typecheck</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Typecheck2"><span class="id" title="section">Typecheck2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">cf</span> : <a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">F</span> : <a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> (<span class="id" title="var">Σ</span> : <a class="idref" href="Template.Ast.html#global_context"><span class="id" title="definition">global_context</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="convert_leq"><span class="id" title="definition">convert_leq</span></a> <span class="id" title="var">Γ</span> (<span class="id" title="var">t</span> <span class="id" title="var">u</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_term"><span class="id" title="definition">eq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#isconv"><span class="id" title="definition">isconv</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a> <a class="idref" href="Template.Checker.html#Cumul"><span class="id" title="constructor">Cumul</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="var">b</span> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <span class="comment">(*&nbsp;fallback&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce"><span class="id" title="definition">reduce</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">u'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce"><span class="id" title="definition">reduce</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#leq_term"><span class="id" title="definition">leq_term</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Template.Checker.html#u'"><span class="id" title="variable">u'</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Template.Checker.html#u'"><span class="id" title="variable">u'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="Typecheck2.InferAux"><span class="id" title="section">InferAux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="Typecheck2.InferAux.infer"><span class="id" title="variable">infer</span></a> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="infer_spine"><span class="id" title="definition">infer_spine</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">ty</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="keyword">struct</span> <span class="id" title="var">l</span>} : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">x</span> <span class="id" title="var">xs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">pi</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">a1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#pi"><span class="id" title="variable">pi</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tx</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#Typecheck2.InferAux.infer"><span class="id" title="variable">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">x</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#convert_leq"><span class="id" title="definition">convert_leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#tx"><span class="id" title="variable">tx</span></a> <span class="id" title="var">a1</span> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_spine"><span class="id" title="definition">infer_spine</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Template.LiftSubst.html#subst0"><span class="id" title="abbreviation">subst0</span></a> <span class="id" title="var">x</span> <span class="id" title="var">b1</span>) <span class="id" title="var">xs</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="infer_type"><span class="id" title="definition">infer_type</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tx</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#Typecheck2.InferAux.infer"><span class="id" title="variable">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#tx"><span class="id" title="variable">tx</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tx</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#Typecheck2.InferAux.infer"><span class="id" title="variable">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#convert_leq"><span class="id" title="definition">convert_leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#tx"><span class="id" title="variable">tx</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Typecheck2.InferAux"><span class="id" title="section">InferAux</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="polymorphic_constraints"><span class="id" title="definition">polymorphic_constraints</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="Template.kernel.univ.html#universe_context"><span class="id" title="inductive">universe_context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.univ.html#ConstraintSet.empty"><span class="id" title="definition">ConstraintSet.empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <span class="id" title="var">ctx</span> ⇒ <a class="idref" href="Template.kernel.univ.html#UContext.constraints"><span class="id" title="definition">UContext.constraints</span></a> <span class="id" title="var">ctx</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_type</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">ty</span></a><a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">;</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">cst_universes</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">uctx</span></a> <a class="idref" href="Template.Ast.html#Build_constant_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cstrs</span> := <a class="idref" href="Template.Checker.html#polymorphic_constraints"><span class="id" title="definition">polymorphic_constraints</span></a> <span class="id" title="var">uctx</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.UnivSubst.html#subst_instance_constr"><span class="id" title="definition">subst_instance_constr</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.UnivSubst.html#subst_instance_cstrs"><span class="id" title="definition">subst_instance_cstrs</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#cstrs"><span class="id" title="variable">cstrs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|  <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredConstant"><span class="id" title="constructor">UndeclaredConstant</span></a> <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lookup_ind_type"><span class="id" title="definition">lookup_ind_type</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> (<span class="id" title="var">u</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) <span class="comment">(*&nbsp;TODO&nbsp;Universes&nbsp;*)</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">ind_bodies</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">l</span></a><a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">;</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">ind_universes</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">uctx</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">l</span> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cstrs</span> := <a class="idref" href="Template.Checker.html#polymorphic_constraints"><span class="id" title="definition">polymorphic_constraints</span></a> <span class="id" title="var">uctx</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.UnivSubst.html#subst_instance_constr"><span class="id" title="definition">subst_instance_constr</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">body</span>.(<a class="idref" href="Template.Ast.html#ind_type"><span class="id" title="projection">ind_type</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.UnivSubst.html#subst_instance_cstrs"><span class="id" title="definition">subst_instance_cstrs</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#cstrs"><span class="id" title="variable">cstrs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|  <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="lookup_constructor_type"><span class="id" title="definition">lookup_constructor_type</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span> <span class="id" title="var">u</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="Template.Ast.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">{|</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">ind_bodies</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">l</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">;</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">ind_universes</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">uctx</span></a> <a class="idref" href="Template.Ast.html#Build_mutual_inductive_body"><span class="id" title="constructor">|}</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">l</span> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">body</span>.(<a class="idref" href="Template.Ast.html#ind_ctors"><span class="id" title="projection">ind_ctors</span></a>) <a class="idref" href="Template.Checker.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">cstrs</span> := <a class="idref" href="Template.Checker.html#polymorphic_constraints"><span class="id" title="definition">polymorphic_constraints</span></a> <span class="id" title="var">uctx</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.LiftSubst.html#substl"><span class="id" title="definition">substl</span></a> (<a class="idref" href="Template.Typing.html#inds"><span class="id" title="definition">inds</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.UnivSubst.html#subst_instance_cstrs"><span class="id" title="definition">subst_instance_cstrs</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#cstrs"><span class="id" title="variable">cstrs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredConstructor"><span class="id" title="constructor">UndeclaredConstructor</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="Template.Checker.html#k"><span class="id" title="variable">k</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|  <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UndeclaredInductive"><span class="id" title="constructor">UndeclaredInductive</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <a class="idref" href="Template.Checker.html#ind"><span class="id" title="variable">ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_consistent_constraints"><span class="id" title="definition">check_consistent_constraints</span></a> <span class="id" title="var">cstrs</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.kernel.uGraph.html#check_constraints"><span class="id" title="definition">check_constraints</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cstrs"><span class="id" title="variable">cstrs</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#tt"><span class="id" title="constructor">tt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UnsatisfiedConstraints"><span class="id" title="constructor">UnsatisfiedConstraints</span></a> <a class="idref" href="Template.Checker.html#cstrs"><span class="id" title="variable">cstrs</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="try_suc"><span class="id" title="definition">try_suc</span></a> (<span class="id" title="var">u</span> : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a> :=   <span class="comment">(*&nbsp;FIXME&nbsp;suc&nbsp;s&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒  <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="infer"><span class="id" title="definition">infer</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tRel"><span class="id" title="constructor">tRel</span></a> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.LiftSubst.html#lift0"><span class="id" title="abbreviation">lift0</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="var">d</span>.(<a class="idref" href="Template.Ast.html#decl_type"><span class="id" title="projection">decl_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UnboundRel"><span class="id" title="constructor">UnboundRel</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tVar"><span class="id" title="constructor">tVar</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UnboundVar"><span class="id" title="constructor">UnboundVar</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tMeta"><span class="id" title="constructor">tMeta</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UnboundMeta"><span class="id" title="constructor">UnboundMeta</span></a> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tEvar"><span class="id" title="constructor">tEvar</span></a> <span class="id" title="var">ev</span> <span class="id" title="var">args</span> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#UnboundEvar"><span class="id" title="constructor">UnboundEvar</span></a> <span class="id" title="var">ev</span>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <span class="id" title="var">s</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> (<a class="idref" href="Template.Checker.html#try_suc"><span class="id" title="definition">try_suc</span></a> <span class="id" title="var">s</span>))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCast"><span class="id" title="constructor">tCast</span></a> <span class="id" title="var">c</span> <span class="id" title="var">k</span> <span class="id" title="var">t</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s1</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">s2</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">n</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="var">b</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> (<a class="idref" href="Template.kernel.univ.html#Universe.sort_of_product"><span class="id" title="definition">Universe.sort_of_product</span></a> <a class="idref" href="Template.Checker.html#s1"><span class="id" title="variable">s1</span></a> <a class="idref" href="Template.Checker.html#s2"><span class="id" title="variable">s2</span></a>))<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLambda"><span class="id" title="constructor">tLambda</span></a> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t2</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vass"><span class="id" title="definition">vass</span></a> <span class="id" title="var">n</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>) <span class="id" title="var">b</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <span class="id" title="var">n</span> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#t2"><span class="id" title="variable">t2</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">b_ty</span> <span class="id" title="var">b'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b_ty</span> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">b</span> <span class="id" title="var">b_ty</span> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b'_ty</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> (<a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Ast.html#b3c458fcac779d3a49e028b136e17a32"><span class="id" title="notation">,,</span></a> <a class="idref" href="Template.Ast.html#vdef"><span class="id" title="definition">vdef</span></a> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">b_ty</span>) <span class="id" title="var">b'</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Ast.html#tLetIn"><span class="id" title="constructor">tLetIn</span></a> <span class="id" title="var">n</span> <span class="id" title="var">b</span> <span class="id" title="var">b_ty</span> <a class="idref" href="Template.Checker.html#b'_ty"><span class="id" title="variable">b'_ty</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">t</span> <span class="id" title="var">l</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">t_ty</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_spine"><span class="id" title="definition">infer_spine</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t_ty"><span class="id" title="variable">t_ty</span></a> <span class="id" title="var">l</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConst"><span class="id" title="constructor">tConst</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">u</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tycstrs</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">u</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#tycstrs"><span class="id" title="variable">tycstrs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_consistent_constraints"><span class="id" title="definition">check_consistent_constraints</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">ty</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span>) <span class="id" title="var">u</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tycstrs</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#lookup_ind_type"><span class="id" title="definition">lookup_ind_type</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">u</span><a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#tycstrs"><span class="id" title="variable">tycstrs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_consistent_constraints"><span class="id" title="definition">check_consistent_constraints</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">ty</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tConstruct"><span class="id" title="constructor">tConstruct</span></a> (<a class="idref" href="Template.Ast.html#mkInd"><span class="id" title="constructor">mkInd</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span>) <span class="id" title="var">k</span> <span class="id" title="var">u</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tycstrs</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#lookup_constructor_type"><span class="id" title="definition">lookup_constructor_type</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">i</span> <span class="id" title="var">k</span> <span class="id" title="var">u</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#tycstrs"><span class="id" title="variable">tycstrs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_consistent_constraints"><span class="id" title="definition">check_consistent_constraints</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">ty</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCase"><span class="id" title="constructor">tCase</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">par</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> <span class="id" title="var">brs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">indargs</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>

<div class="doc">
TODO check branches 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">ind'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">args</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.Checker.html#indargs"><span class="id" title="variable">indargs</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_ind"><span class="id" title="definition">eq_ind</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ind'</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> (<a class="idref" href="Template.Ast.html#tApp"><span class="id" title="constructor">tApp</span></a> <span class="id" title="var">p</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#skipn"><span class="id" title="definition">List.skipn</span></a> <span class="id" title="var">par</span> <span class="id" title="var">args</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><span class="id" title="var">c</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ind1</span> := <a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ind2</span> := <a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <span class="id" title="var">ind'</span> <span class="id" title="var">u</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#NotConvertible"><span class="id" title="constructor">NotConvertible</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#ind1"><span class="id" title="variable">ind1</span></a> <a class="idref" href="Template.Checker.html#ind2"><span class="id" title="variable">ind2</span></a> <a class="idref" href="Template.Checker.html#ind1"><span class="id" title="variable">ind1</span></a> <a class="idref" href="Template.Checker.html#ind2"><span class="id" title="variable">ind2</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tProj"><span class="id" title="constructor">tProj</span></a> <span class="id" title="var">p</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ty</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <span class="id" title="var">c</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">indargs</span> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">&lt;-</span></a> <a class="idref" href="Template.Checker.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Template.monad_utils.html#6095282c3572bed0f6d219ad04750c54"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tFix"><span class="id" title="constructor">tFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">f</span>.(<a class="idref" href="Template.Ast.html#dtype"><span class="id" title="projection">dtype</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#IllFormedFix"><span class="id" title="constructor">IllFormedFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#tCoFix"><span class="id" title="constructor">tCoFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">f</span> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <span class="id" title="var">f</span>.(<a class="idref" href="Template.Ast.html#dtype"><span class="id" title="projection">dtype</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#raise"><span class="id" title="method">raise</span></a> (<a class="idref" href="Template.Checker.html#IllFormedFix"><span class="id" title="constructor">IllFormedFix</span></a> <span class="id" title="var">mfix</span> <span class="id" title="var">n</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check"><span class="id" title="definition">check</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">t</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) (<span class="id" title="var">ty</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="typechecking"><span class="id" title="definition">typechecking</span></a> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">t</span> <span class="id" title="var">ty</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#check"><span class="id" title="definition">check</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">tc</span> := <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">typecheck</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Arguments</span> <a class="idref" href="Template.monad_utils.html#bind"><span class="id" title="method">bind</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ! <span class="id" title="var">_</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">monad</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Conjecture</span> <a name="cumul_convert_leq"><span class="id" title="axiom">cumul_convert_leq</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">t'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Template.Checker.html#convert_leq"><span class="id" title="definition">convert_leq</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Conjecture</span> <a name="cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">s'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="Template.Checker.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">s''</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#reduce_to_sort"><span class="id" title="definition">reduce_to_sort</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#s''"><span class="id" title="variable">s''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Template.kernel.uGraph.html#check_leq"><span class="id" title="definition">check_leq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#s''"><span class="id" title="variable">s''</span></a> <a class="idref" href="Template.Checker.html#s'"><span class="id" title="variable">s'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Conjecture</span> <a name="cumul_reduce_to_product"><span class="id" title="axiom">cumul_reduce_to_product</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">na</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="Template.Checker.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="Template.Checker.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">a'</span> <span class="id" title="var">b'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#reduce_to_prod"><span class="id" title="definition">reduce_to_prod</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#a'"><span class="id" title="variable">a'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#cumul"><span class="id" title="inductive">cumul</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="Template.Checker.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="Template.Checker.html#a'"><span class="id" title="variable">a'</span></a> <a class="idref" href="Template.Checker.html#b'"><span class="id" title="variable">b'</span></a>) (<a class="idref" href="Template.Ast.html#tProd"><span class="id" title="constructor">tProd</span></a> <a class="idref" href="Template.Checker.html#na"><span class="id" title="variable">na</span></a> <a class="idref" href="Template.Checker.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Template.Checker.html#b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Conjecture</span> <a name="cumul_reduce_to_ind"><span class="id" title="axiom">cumul_reduce_to_ind</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">i</span> <span class="id" title="var">u</span> <span class="id" title="var">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#563fde00f4689c5274d2bb47bd843007"><span class="id" title="notation">≤</span></a> <a class="idref" href="Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>) <a class="idref" href="Template.Checker.html#args"><span class="id" title="variable">args</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">args'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#args'"><span class="id" title="variable">args'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Typing.html#cumul"><span class="id" title="inductive">cumul</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> (<a class="idref" href="Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>) <a class="idref" href="Template.Checker.html#args'"><span class="id" title="variable">args'</span></a>) (<a class="idref" href="Template.Ast.html#mkApps"><span class="id" title="definition">mkApps</span></a> (<a class="idref" href="Template.Ast.html#tInd"><span class="id" title="constructor">tInd</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>) <a class="idref" href="Template.Checker.html#args"><span class="id" title="variable">args</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_env_id"><span class="id" title="lemma">lookup_env_id</span></a> {<span class="id" title="var">id</span> <span class="id" title="var">decl</span>} : <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Typing.html#global_decl_ident"><span class="id" title="definition">global_decl_ident</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">g</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Typing.html#ident_eq_spec"><span class="id" title="lemma">ident_eq_spec</span></a> <span class="id" title="var">id</span> (<a class="idref" href="Template.Typing.html#global_decl_ident"><span class="id" title="definition">global_decl_ident</span></a> <span class="id" title="var">a</span>)). <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> [= -&gt;].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHg</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_constant_type_declared"><span class="id" title="lemma">lookup_constant_type_declared</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">u</span> <span class="id" title="var">decl</span> (<span class="id" title="var">isdecl</span> : <a class="idref" href="Template.Typing.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a> <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.UnivSubst.html#subst_instance_constr"><span class="id" title="definition">subst_instance_constr</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="Template.Ast.html#cst_type"><span class="id" title="projection">cst_type</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.UnivSubst.html#subst_instance_cstrs"><span class="id" title="definition">subst_instance_cstrs</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="Template.Checker.html#polymorphic_constraints"><span class="id" title="definition">polymorphic_constraints</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="Template.Ast.html#cst_universes"><span class="id" title="projection">cst_universes</span></a>))<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a>, <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">isdecl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">isdecl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">decl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="lookup_constant_type_is_declared"><span class="id" title="lemma">lookup_constant_type_is_declared</span></a> <span class="id" title="var">cst</span> <span class="id" title="var">u</span> <span class="id" title="var">T</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a> <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Specif.html#5b63cb9ed0fed82566685c66e56592e4"><span class="id" title="notation">{</span></a> <span class="id" title="var">decl</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Specif.html#5b63cb9ed0fed82566685c66e56592e4"><span class="id" title="notation">|</span></a> <a class="idref" href="Template.Typing.html#declared_constant"><span class="id" title="definition">declared_constant</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#cst"><span class="id" title="variable">cst</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.UnivSubst.html#subst_instance_constr"><span class="id" title="definition">subst_instance_constr</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Checker.html#decl"><span class="id" title="variable">decl</span></a>.(<a class="idref" href="Template.Ast.html#cst_type"><span class="id" title="projection">cst_type</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Specif.html#5b63cb9ed0fed82566685c66e56592e4"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#lookup_constant_type"><span class="id" title="definition">lookup_constant_type</span></a>, <a class="idref" href="Template.Checker.html#lookup_env"><span class="id" title="definition">lookup_env</span></a>, <a class="idref" href="Template.Typing.html#declared_constant"><span class="id" title="definition">declared_constant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.Typing.html#lookup_env"><span class="id" title="definition">Typing.lookup_env</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlook</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> <span class="id" title="var">eqn</span>:<span class="id" title="var">Hg</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">injection</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">eq</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">T</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Template.Checker.html#lookup_env_id"><span class="id" title="lemma">lookup_env_id</span></a> <span class="id" title="var">Hlook</span>). <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="eq_ind_refl"><span class="id" title="lemma">eq_ind_refl</span></a> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> : <a class="idref" href="Template.Typing.html#eq_ind"><span class="id" title="definition">eq_ind</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="Template.Checker.html#i'"><span class="id" title="variable">i'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="Template.Checker.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#i'"><span class="id" title="variable">i'</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="infer_complete"><span class="id" title="lemma">infer_complete</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">T'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="Template.Typing.html#cumul"><span class="id" title="inductive">cumul</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#T'"><span class="id" title="variable">T'</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1; <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a>, <a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a>, <a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <span class="id" title="tactic">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">T'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [? [-&gt; <span class="id" title="var">H</span>]]<br/>
      <span class="id" title="keyword">end</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="tactic">solve</span> [ <span class="id" title="var">tc</span> ] ]).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> <span class="id" title="var">n</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> [-&gt; <span class="id" title="var">Hs''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_convert_leq"><span class="id" title="axiom">cumul_convert_leq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX2</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">tc</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> [-&gt; <span class="id" title="var">Hs''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s'''</span> [-&gt; <span class="id" title="var">Hs'''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">s''</span> [-&gt; <span class="id" title="var">Hs''</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Typing.html#congr_cumul_prod"><span class="id" title="axiom">congr_cumul_prod</span></a>; <span class="id" title="var">tc</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_convert_leq"><span class="id" title="axiom">cumul_convert_leq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX2</span> <span class="id" title="keyword">as</span> -&gt;; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">split</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="Template.Checker.html#lookup_constant_type_declared"><span class="id" title="lemma">lookup_constant_type_declared</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Typing.html#consistent_universe_context_instance"><span class="id" title="definition">consistent_universe_context_instance</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.Ast.html#cst_universes"><span class="id" title="projection">cst_universes</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cst0</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#check_consistent_constraints"><span class="id" title="definition">check_consistent_constraints</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;destruct&nbsp;indpar.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_ind"><span class="id" title="axiom">cumul_reduce_to_ind</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IHX2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">args'</span> [-&gt; <span class="id" title="var">Hcumul</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> (<a class="idref" href="Template.Checker.html#eq_ind_refl"><span class="id" title="axiom">eq_ind_refl</span></a> <span class="id" title="var">ind</span> <span class="id" title="var">ind</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> ; <span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">isdecl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [ <span class="id" title="tactic">reflexivity</span> | <span class="id" title="var">tc</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Template.Typing.html#cumul_trans"><span class="id" title="axiom">cumul_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="nth_error_isdecl"><span class="id" title="lemma">nth_error_isdecl</span></a> {<span class="id" title="var">A</span>} {<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>} {<span class="id" title="var">n</span> <span class="id" title="var">c</span>} : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">Datatypes.length</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error_Some"><span class="id" title="lemma">nth_error_Some</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">H'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">infers</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:?; [ <span class="id" title="tactic">simpl</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">discriminate</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span>) <span class="id" title="var">eqn</span>:?; [ <span class="id" title="tactic">simpl</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">discriminate</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">t2</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">t2</span>) <span class="id" title="var">eqn</span>:?; [ <span class="id" title="tactic">simpl</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">discriminate</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="keyword">context</span> [<a class="idref" href="Template.Checker.html#convert_leq"><span class="id" title="definition">convert_leq</span></a> ?<span class="id" title="var">Γ</span> ?<span class="id" title="var">t</span> ?<span class="id" title="var">t2</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#convert_leq"><span class="id" title="definition">convert_leq</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">t2</span>) <span class="id" title="var">eqn</span>:?; [ <span class="id" title="tactic">simpl</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">discriminate</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">intros</span> [= &lt;-].<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="leq_universe_refl"><span class="id" title="lemma">leq_universe_refl</span></a> `{<a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">config.checker_flags</span></a>} <span class="id" title="var">x</span> : <a class="idref" href="Template.kernel.uGraph.html#check_leq"><span class="id" title="definition">check_leq</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>. <span class="comment">(*&nbsp;FIXME&nbsp;condition&nbsp;on&nbsp;φ?&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.kernel.uGraph.html#check_leq"><span class="id" title="definition">check_leq</span></a>. <span class="id" title="var">cbn</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">bool</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="Template.kernel.uGraph.html#check_leq"><span class="id" title="definition">check_leq</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="var">Admitted</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">leq_universe_refl</span> : <span class="id" title="var">typecheck</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="infer_type_correct"><span class="id" title="lemma">infer_type_correct</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">x</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>), <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Ast.html#tSort"><span class="id" title="constructor">tSort</span></a> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IH</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">infers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqt0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Template.Typing.html#type_Conv"><span class="id" title="constructor">type_Conv</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.Checker.html#cumul_reduce_to_sort"><span class="id" title="axiom">cumul_reduce_to_sort</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">split</span>; <span class="id" title="var">tc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="infer_cumul_correct"><span class="id" title="lemma">infer_cumul_correct</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">x</span> <span class="id" title="var">x'</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>), <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> (<span class="id" title="var">Γ</span> : <a class="idref" href="Template.Ast.html#context"><span class="id" title="definition">context</span></a>) (<span class="id" title="var">T</span> : <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a>), <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#x'"><span class="id" title="variable">x'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#u"><span class="id" title="variable">u</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">IH</span> <span class="id" title="var">IH'</span> <span class="id" title="var">H</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="Template.Checker.html#infer_cumul"><span class="id" title="definition">infer_cumul</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H'</span>; <span class="id" title="var">infers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IH'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqt0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="Template.Typing.html#type_Conv"><span class="id" title="constructor">type_Conv</span></a>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IH'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="Template.Checker.html#infer_type_correct"><span class="id" title="axiom">infer_type_correct</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="Template.Checker.html#cumul_convert_leq"><span class="id" title="axiom">cumul_convert_leq</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="nth_error_Some_safe_nth"><span class="id" title="lemma">nth_error_Some_safe_nth</span></a> <span class="id" title="var">A</span> (<span class="id" title="var">l</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>) <span class="id" title="var">n</span> <span class="id" title="var">c</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">e</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a>, <a class="idref" href="Template.utils.html#safe_nth"><span class="id" title="definition">safe_nth</span></a> <a class="idref" href="Template.Checker.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Specif.html#exist"><span class="id" title="constructor">exist</span></a> <span class="id" title="var">_</span> <a class="idref" href="Template.Checker.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Template.Checker.html#nth_error_isdecl"><span class="id" title="lemma">nth_error_isdecl</span></a> <a class="idref" href="Template.Checker.html#e"><span class="id" title="variable">e</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#c"><span class="id" title="variable">c</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Template.utils.html#nth_error_safe_nth"><span class="id" title="lemma">nth_error_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="Template.Checker.html#nth_error_isdecl"><span class="id" title="lemma">nth_error_isdecl</span></a> <span class="id" title="var">H</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">at</span> 1. <span class="id" title="var">now</span> <span class="id" title="tactic">injection</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> →.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">infco</span> := <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="Template.Checker.html#infer_cumul_correct"><span class="id" title="lemma">infer_cumul_correct</span></a>, <a class="idref" href="Template.Checker.html#infer_type_correct"><span class="id" title="axiom">infer_type_correct</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Axiom&nbsp;cheat&nbsp;:&nbsp;forall&nbsp;A,&nbsp;A.&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;Ltac&nbsp;admit&nbsp;:=&nbsp;apply&nbsp;cheat.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="infer_correct"><span class="id" title="lemma">infer_correct</span></a> <span class="id" title="var">Γ</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="Template.Checker.html#56fc58b856262ea44b0e654f6fe16e99"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">;;;</span></a> <a class="idref" href="Template.Checker.html#1b004e48cd1f64e22d5c000cf0d7f047"><span class="id" title="variable">Γ</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">|-</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Typing.html#ed04060b4afd95602ad81dc6ad8ad19f"><span class="id" title="notation">:</span></a> <a class="idref" href="Template.Checker.html#T"><span class="id" title="variable">T</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Γ</span>, <span class="id" title="var">T</span> |- × ; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">H</span>; <span class="id" title="var">infers</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">infco</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">Heq</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="Template.Checker.html#nth_error_Some_safe_nth"><span class="id" title="lemma">nth_error_Some_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;-]. <span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;&nbsp;intros.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;(lookup_constant_type)&nbsp;eqn:?.&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;apply&nbsp;(lookup_constant_type_is_declared&nbsp;k&nbsp;u)&nbsp;in&nbsp;Heqt.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;Heqt&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">decl</span></span> <span class="inlinecode">[<span class="id" title="var">Hdecl</span></span> <span class="inlinecode"><span class="id" title="var">Heq</span>]</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;a&nbsp;eqn:eqa.&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;check_consistent_constraints&nbsp;eqn:cons.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;injection&nbsp;H&nbsp;as&nbsp;-&gt;.&nbsp;rewrite&nbsp;&lt;-&nbsp;Heq.&nbsp;constructor.&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;red&nbsp;in&nbsp;Hdecl.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unfold&nbsp;consistent_universe_context_instance.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unfold&nbsp;check_consistent_constraints&nbsp;in&nbsp;cons.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unfold&nbsp;check_constraints&nbsp;in&nbsp;cons.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;decl.&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;decl;&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;destruct&nbsp;cst_universes;&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;destruct&nbsp;cst.&nbsp;simpl.&nbsp;unfold&nbsp;check_consistent_constraints&nbsp;in&nbsp;cons.&nbsp;split;&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;unfold&nbsp;lookup_constant_type&nbsp;in&nbsp;Heqt.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;pose&nbsp;(lookup_constant_type_is_declared&nbsp;k&nbsp;u).&nbsp;_&nbsp;_&nbsp;_&nbsp;H)&nbsp;as&nbsp;<span class="inlinecode"><span class="id" title="var">decl</span></span> <span class="inlinecode">[<span class="id" title="var">Hdecl</span></span> <span class="inlinecode">&lt;-]</span>.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;constructor.&nbsp;auto.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Ind&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Construct&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Case&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">infers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.Checker.html#reduce_to_ind"><span class="id" title="definition">reduce_to_ind</span></a> <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">ind'</span> <span class="id" title="var">u</span>] <span class="id" title="var">args</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="Template.Typing.html#eq_ind"><span class="id" title="definition">eq_ind</span></a> <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">admit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;eapply&nbsp;type_Case.&nbsp;simpl&nbsp;in&nbsp;*.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;eapply&nbsp;type_Conv.&nbsp;eauto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;admit.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;rewrite&nbsp;cumul_reduce_to_ind.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;exists&nbsp;args.&nbsp;split;&nbsp;auto.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;rewrite&nbsp;Heqt0.&nbsp;repeat&nbsp;f_equal.&nbsp;apply&nbsp;eq_ind_refl&nbsp;in&nbsp;Heqb.&nbsp;congruence.&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;tc.&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="comment">(*&nbsp;Proj&nbsp;*)</span> <span class="id" title="var">admit</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">intros</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#nth_error_Some_safe_nth"><span class="id" title="lemma">nth_error_Some_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#nth_error"><span class="id" title="definition">nth_error</span></a> <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">intros</span> [= &lt;-].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="Template.Checker.html#nth_error_Some_safe_nth"><span class="id" title="lemma">nth_error_Some_safe_nth</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Heqo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Typecheck2"><span class="id" title="section">Typecheck2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Extract</span> <span class="id" title="var">Constant</span> <span class="id" title="var">infer_type_correct</span> ⇒ "(fun f sigma ctx t x -&gt; assert false)".<br/>
<span class="id" title="keyword">Extract</span> <span class="id" title="var">Constant</span> <span class="id" title="var">infer_correct</span> ⇒ "(fun f sigma ctx t ty -&gt; assert false)".<br/>

<br/>
<span class="id" title="keyword">Instance</span> <a name="default_fuel"><span class="id" title="instance">default_fuel</span></a> : <a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a> := { <a class="idref" href="Template.Checker.html#fuel"><span class="id" title="method">fuel</span></a> := 2 <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Arith.PeanoNat.html#4c362bcf0e947e2792a2e6989b44aeb0"><span class="id" title="notation">^</span></a> 18 }.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="fresh"><span class="id" title="definition">fresh</span></a> <span class="id" title="var">id</span> <span class="id" title="var">env</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#env"><span class="id" title="variable">env</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#cons"><span class="id" title="constructor">cons</span></a> <span class="id" title="var">g</span> <span class="id" title="var">env</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Template.Typing.html#eq_constant"><span class="id" title="definition">eq_constant</span></a> (<a class="idref" href="Template.Typing.html#global_decl_ident"><span class="id" title="definition">global_decl_ident</span></a> <span class="id" title="var">g</span>) <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.Checker.html#fresh"><span class="id" title="definition">fresh</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="Template.Checker.html#env"><span class="id" title="variable">env</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="Checker"><span class="id" title="section">Checker</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">cf</span> : <a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">F</span>:<a class="idref" href="Template.Checker.html#Fuel"><span class="id" title="class">Fuel</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="env_error"><span class="id" title="inductive">env_error</span></a> :=<br/>
&nbsp;&nbsp;| <a name="IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Template.Checker.html#type_error"><span class="id" title="inductive">type_error</span></a>)<br/>
&nbsp;&nbsp;| <a name="AlreadyDeclared"><span class="id" title="constructor">AlreadyDeclared</span></a> (<span class="id" title="var">id</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> (<span class="id" title="var">A</span> : <span class="id" title="keyword">Type</span>) :=<br/>
&nbsp;&nbsp;| <a name="CorrectDecl"><span class="id" title="constructor">CorrectDecl</span></a> (<span class="id" title="var">a</span> : <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>)<br/>
&nbsp;&nbsp;| <a name="EnvError"><span class="id" title="constructor">EnvError</span></a> (<span class="id" title="var">e</span> : <a class="idref" href="Template.Checker.html#env_error"><span class="id" title="inductive">env_error</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global</span> <span class="id" title="var">Arguments</span> <a class="idref" href="Template.Checker.html#EnvError"><span class="id" title="constructor">EnvError</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global</span> <span class="id" title="var">Arguments</span> <a class="idref" href="Template.Checker.html#CorrectDecl"><span class="id" title="constructor">CorrectDecl</span></a> {<span class="id" title="var">A</span>} <span class="id" title="var">a</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="envcheck_monad"><span class="id" title="instance">envcheck_monad</span></a> : <a class="idref" href="Template.monad_utils.html#Monad"><span class="id" title="class">Monad</span></a> <a class="idref" href="Template.Checker.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">ret</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">A</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">:=</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">CorrectDecl</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">bind</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">A</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">B</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">m</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">:=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">match</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">m</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">with</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">|</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">CorrectDecl</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">f</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">a</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">|</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">EnvError</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">e</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">⇒</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">EnvError</span></a> <a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">e</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.monad_utils.html#Build_Monad"><span class="id" title="constructor">end</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="wrap_error"><span class="id" title="definition">wrap_error</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">id</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Strings.String.html#string"><span class="id" title="inductive">string</span></a>) (<span class="id" title="var">check</span> : <a class="idref" href="Template.Checker.html#typing_result"><span class="id" title="inductive">typing_result</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="Template.Checker.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="Template.Checker.html#A"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#check"><span class="id" title="variable">check</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#Checked"><span class="id" title="constructor">Checked</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="Template.Checker.html#CorrectDecl"><span class="id" title="constructor">CorrectDecl</span></a> <span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Checker.html#TypeError"><span class="id" title="constructor">TypeError</span></a> <span class="id" title="var">e</span> ⇒ <a class="idref" href="Template.Checker.html#EnvError"><span class="id" title="constructor">EnvError</span></a> (<a class="idref" href="Template.Checker.html#IllFormedDecl"><span class="id" title="constructor">IllFormedDecl</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_wf_type"><span class="id" title="definition">check_wf_type</span></a> <span class="id" title="var">id</span> <span class="id" title="var">Σ</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> (<a class="idref" href="Template.Checker.html#infer_type"><span class="id" title="definition">infer_type</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_wf_judgement"><span class="id" title="definition">check_wf_judgement</span></a> <span class="id" title="var">id</span> <span class="id" title="var">Σ</span> <span class="id" title="var">t</span> <span class="id" title="var">ty</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> (<a class="idref" href="Template.Checker.html#check"><span class="id" title="definition">check</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Template.Checker.html#ty"><span class="id" title="variable">ty</span></a>) <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="infer_term"><span class="id" title="definition">infer_term</span></a> <span class="id" title="var">Σ</span> <span class="id" title="var">t</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#wrap_error"><span class="id" title="definition">wrap_error</span></a> "" (<a class="idref" href="Template.Checker.html#infer"><span class="id" title="definition">infer</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> <a class="idref" href="Template.Checker.html#t"><span class="id" title="variable">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_wf_decl"><span class="id" title="definition">check_wf_decl</span></a> <span class="id" title="var">Σ</span> (<span class="id" title="var">g</span> : <a class="idref" href="Template.Ast.html#global_decl"><span class="id" title="inductive">global_decl</span></a>) : <a class="idref" href="Template.Checker.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#09bd1a79d6b7b0362f26cc87e8e242a1"><span class="id" title="notation">()</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#ConstantDecl"><span class="id" title="constructor">ConstantDecl</span></a> <span class="id" title="var">id</span> <span class="id" title="var">cst</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">cst</span>.(<a class="idref" href="Template.Ast.html#cst_body"><span class="id" title="projection">cst_body</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">term</span> ⇒ <a class="idref" href="Template.Checker.html#check_wf_judgement"><span class="id" title="definition">check_wf_judgement</span></a> <span class="id" title="var">id</span> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">term</span> <span class="id" title="var">cst</span>.(<a class="idref" href="Template.Ast.html#cst_type"><span class="id" title="projection">cst_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="Template.Checker.html#check_wf_type"><span class="id" title="definition">check_wf_type</span></a> <span class="id" title="var">id</span> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <span class="id" title="var">cst</span>.(<a class="idref" href="Template.Ast.html#cst_type"><span class="id" title="projection">cst_type</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.Ast.html#InductiveDecl"><span class="id" title="constructor">InductiveDecl</span></a> <span class="id" title="var">id</span> <span class="id" title="var">inds</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">acc</span> <span class="id" title="var">body</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#acc"><span class="id" title="variable">acc</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a> <a class="idref" href="Template.Checker.html#check_wf_type"><span class="id" title="definition">check_wf_type</span></a> <a class="idref" href="Template.Checker.html#body"><span class="id" title="variable">body</span></a>.(<a class="idref" href="Template.Ast.html#ind_name"><span class="id" title="projection">ind_name</span></a>) <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.Checker.html#body"><span class="id" title="variable">body</span></a>.(<a class="idref" href="Template.Ast.html#ind_type"><span class="id" title="projection">ind_type</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inds</span>.(<a class="idref" href="Template.Ast.html#ind_bodies"><span class="id" title="projection">ind_bodies</span></a>) (<a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="check_fresh"><span class="id" title="definition">check_fresh</span></a> <span class="id" title="var">id</span> <span class="id" title="var">env</span> : <a class="idref" href="Template.Checker.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#09bd1a79d6b7b0362f26cc87e8e242a1"><span class="id" title="notation">()</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#env"><span class="id" title="variable">env</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_fresh"><span class="id" title="definition">check_fresh</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="Template.Checker.html#env"><span class="id" title="variable">env</span></a><a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="Template.Typing.html#eq_constant"><span class="id" title="definition">eq_constant</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a> (<a class="idref" href="Template.Typing.html#global_decl_ident"><span class="id" title="definition">global_decl_ident</span></a> <span class="id" title="var">g</span>) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#EnvError"><span class="id" title="constructor">EnvError</span></a> (<a class="idref" href="Template.Checker.html#AlreadyDeclared"><span class="id" title="constructor">AlreadyDeclared</span></a> <a class="idref" href="Template.Checker.html#id"><span class="id" title="variable">id</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="check_wf_declarations"><span class="id" title="definition">check_wf_declarations</span></a> (φ : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">uGraph.t</span></a>) (<span class="id" title="var">g</span> : <a class="idref" href="Template.Ast.html#global_declarations"><span class="id" title="definition">global_declarations</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.Checker.html#g"><span class="id" title="variable">g</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="Template.monad_utils.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Program.Syntax.html#15d0087b74ef8a6bcc16368cb9a89942"><span class="id" title="notation">()</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">env</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_wf_declarations"><span class="id" title="definition">check_wf_declarations</span></a> <a class="idref" href="Template.Checker.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a> <span class="id" title="var">env</span> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_wf_decl"><span class="id" title="definition">check_wf_decl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">env</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.Checker.html#7f48d4a68765673379b41e1b1ee20edf"><span class="id" title="variable">φ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.Checker.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_fresh"><span class="id" title="definition">check_fresh</span></a> (<a class="idref" href="Template.Typing.html#global_decl_ident"><span class="id" title="definition">global_decl_ident</span></a> <a class="idref" href="Template.Checker.html#g"><span class="id" title="variable">g</span></a>) <span class="id" title="var">env</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_wf_env"><span class="id" title="definition">check_wf_env</span></a> (<span class="id" title="var">Σ</span> : <a class="idref" href="Template.Ast.html#global_context"><span class="id" title="definition">global_context</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Template.kernel.uGraph.html#no_universe_inconsistency"><span class="id" title="definition">no_universe_inconsistency</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>)) <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#EnvError"><span class="id" title="constructor">EnvError</span></a> (<a class="idref" href="Template.Checker.html#AlreadyDeclared"><span class="id" title="constructor">AlreadyDeclared</span></a> "univ inconsistency") <span class="comment">(*&nbsp;todo&nbsp;better&nbsp;error&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.Checker.html#check_wf_declarations"><span class="id" title="definition">check_wf_declarations</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="typecheck_program"><span class="id" title="definition">typecheck_program</span></a> (<span class="id" title="var">p</span> : <a class="idref" href="Template.Ast.html#program"><span class="id" title="definition">program</span></a>) : <a class="idref" href="Template.Checker.html#EnvCheck"><span class="id" title="inductive">EnvCheck</span></a> <a class="idref" href="Template.Ast.html#term"><span class="id" title="inductive">term</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Σ</span> := <a class="idref" href="Template.Typing.html#reconstruct_global_context"><span class="id" title="definition">reconstruct_global_context</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.Checker.html#p"><span class="id" title="variable">p</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.Checker.html#check_wf_env"><span class="id" title="definition">check_wf_env</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> <a class="idref" href="Template.monad_utils.html#298794d92533053a7405df6417b02785"><span class="id" title="notation">;;</span></a> <a class="idref" href="Template.Checker.html#infer_term"><span class="id" title="definition">infer_term</span></a> <a class="idref" href="Template.Checker.html#e15c0eb40e61adefe95778c26e7840f6"><span class="id" title="variable">Σ</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.Checker.html#p"><span class="id" title="variable">p</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.Checker.html#Checker"><span class="id" title="section">Checker</span></a>.<br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>