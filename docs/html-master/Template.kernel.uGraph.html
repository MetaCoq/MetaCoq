<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Template.kernel.uGraph</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Template.kernel.uGraph</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#"><span class="id" title="library">BinInt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>. <span class="id" title="keyword">Import</span> <span class="id" title="var">ListNotations</span>.<br/>
<span class="id" title="var">From</span> <span class="id" title="var">Template</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Template.config.html#"><span class="id" title="library">config</span></a> <a class="idref" href="Template.kernel.univ.html#"><span class="id" title="library">univ</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Prop&nbsp;&lt;&nbsp;Set&nbsp;&lt;=&nbsp;other&nbsp;levels&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Each&nbsp;time&nbsp;a&nbsp;level&nbsp;l&nbsp;is&nbsp;inserted&nbsp;in&nbsp;the&nbsp;graph,&nbsp;the&nbsp;constraint&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;Set&nbsp;&lt;=&nbsp;l&nbsp;is&nbsp;added.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;the&nbsp;moment&nbsp;we&nbsp;recompute&nbsp;the&nbsp;graph&nbsp;each&nbsp;time&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;TODO&nbsp;the&nbsp;first&nbsp;component&nbsp;is&nbsp;useless&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="t"><span class="id" title="definition">t</span></a> : <span class="id" title="keyword">Type</span> := <a class="idref" href="Template.kernel.univ.html#LevelSet.t"><span class="id" title="definition">LevelSet.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Template.kernel.univ.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;TODO&nbsp;use&nbsp;nat&nbsp;where&nbsp;Z&nbsp;is&nbsp;not&nbsp;useful&nbsp;or&nbsp;BinNat&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="edge"><span class="id" title="definition">edge</span></a> : <span class="id" title="keyword">Set</span> := <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="edges_of_constraint"><span class="id" title="definition">edges_of_constraint</span></a> (<span class="id" title="var">uc</span> : <a class="idref" href="Template.kernel.univ.html#univ_constraint"><span class="id" title="definition">univ_constraint</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.kernel.uGraph.html#edge"><span class="id" title="definition">edge</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ct</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.kernel.uGraph.html#uc"><span class="id" title="variable">uc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">ct</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Lt"><span class="id" title="constructor">ConstraintType.Lt</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a>-1<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Le"><span class="id" title="constructor">ConstraintType.Le</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#64ee52ab9627fca8d637e2f1207a2990"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Eq"><span class="id" title="constructor">ConstraintType.Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e15"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e15"><span class="id" title="notation">;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a>0<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#f83abbde7679bdbfec6afddd39d41e15"><span class="id" title="notation">]</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="init_graph"><span class="id" title="definition">init_graph</span></a> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">levels</span> := <a class="idref" href="Template.kernel.univ.html#LevelSet.add"><span class="id" title="definition">LevelSet.add</span></a> <a class="idref" href="Template.kernel.univ.html#Level.prop"><span class="id" title="definition">Level.prop</span></a> (<a class="idref" href="Template.kernel.univ.html#LevelSet.add"><span class="id" title="definition">LevelSet.add</span></a> <a class="idref" href="Template.kernel.univ.html#Level.set"><span class="id" title="definition">Level.set</span></a> <a class="idref" href="Template.kernel.univ.html#LevelSet.empty"><span class="id" title="definition">LevelSet.empty</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">constraints</span> := <a class="idref" href="Template.kernel.univ.html#ConstraintSet.add"><span class="id" title="definition">ConstraintSet.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.univ.html#Level.prop"><span class="id" title="definition">Level.prop</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.univ.html#ConstraintType.Lt"><span class="id" title="constructor">ConstraintType.Lt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.univ.html#Level.set"><span class="id" title="definition">Level.set</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.kernel.univ.html#ConstraintSet.empty"><span class="id" title="definition">ConstraintSet.empty</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.uGraph.html#levels"><span class="id" title="variable">levels</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#constraints"><span class="id" title="variable">constraints</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;The&nbsp;monomorphic&nbsp;levels&nbsp;are&nbsp;&gt;&nbsp;Set&nbsp;while&nbsp;polymorphic&nbsp;ones&nbsp;are&nbsp;&gt;=&nbsp;Set.&nbsp;*)</span><br/>
<span class="id" title="keyword">Definition</span> <a name="add_node"><span class="id" title="definition">add_node</span></a> (<span class="id" title="var">l</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> <span class="id" title="var">levels</span> := <a class="idref" href="Template.kernel.univ.html#LevelSet.add"><span class="id" title="definition">LevelSet.add</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">constraints</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.lProp"><span class="id" title="constructor">Level.lProp</span></a> | <a class="idref" href="Template.kernel.univ.html#Level.lSet"><span class="id" title="constructor">Level.lSet</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="comment">(*&nbsp;supposed&nbsp;to&nbsp;be&nbsp;yet&nbsp;here&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.Var"><span class="id" title="constructor">Level.Var</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.univ.html#ConstraintSet.add"><span class="id" title="definition">ConstraintSet.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.univ.html#Level.set"><span class="id" title="definition">Level.set</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.univ.html#ConstraintType.Le"><span class="id" title="constructor">ConstraintType.Le</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Level.Level"><span class="id" title="constructor">Level.Level</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.univ.html#ConstraintSet.add"><span class="id" title="definition">ConstraintSet.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.univ.html#Level.set"><span class="id" title="definition">Level.set</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.univ.html#ConstraintType.Lt"><span class="id" title="constructor">ConstraintType.Lt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.uGraph.html#levels"><span class="id" title="variable">levels</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#constraints"><span class="id" title="variable">constraints</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="add_constraint"><span class="id" title="definition">add_constraint</span></a> (<span class="id" title="var">uc</span> : <a class="idref" href="Template.kernel.univ.html#univ_constraint"><span class="id" title="definition">univ_constraint</span></a>) (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ct</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a><span class="id" title="var">l'</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.kernel.uGraph.html#uc"><span class="id" title="variable">uc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*&nbsp;maybe&nbsp;useless&nbsp;if&nbsp;we&nbsp;always&nbsp;add&nbsp;constraints<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;which&nbsp;the&nbsp;universes&nbsp;are&nbsp;declared&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <a class="idref" href="Template.kernel.uGraph.html#add_node"><span class="id" title="definition">add_node</span></a> <span class="id" title="var">l</span> (<a class="idref" href="Template.kernel.uGraph.html#add_node"><span class="id" title="definition">add_node</span></a> <span class="id" title="var">l'</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">constraints</span> := <a class="idref" href="Template.kernel.univ.html#ConstraintSet.add"><span class="id" title="definition">ConstraintSet.add</span></a> <a class="idref" href="Template.kernel.uGraph.html#uc"><span class="id" title="variable">uc</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#constraints"><span class="id" title="variable">constraints</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="repr"><span class="id" title="definition">repr</span></a> (<span class="id" title="var">uctx</span> : <a class="idref" href="Template.kernel.univ.html#universe_context"><span class="id" title="inductive">universe_context</span></a>) : <a class="idref" href="Template.kernel.univ.html#UContext.t"><span class="id" title="definition">UContext.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#uctx"><span class="id" title="variable">uctx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <span class="id" title="var">c</span> ⇒ <span class="id" title="var">c</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="add_local_constraints"><span class="id" title="definition">add_local_constraints</span></a> (<span class="id" title="var">uctx</span> : <a class="idref" href="Template.kernel.univ.html#universe_context"><span class="id" title="inductive">universe_context</span></a>) (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#uctx"><span class="id" title="variable">uctx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">inst</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#add_node"><span class="id" title="definition">add_node</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Template.kernel.uGraph.html#s"><span class="id" title="variable">s</span></a>) <span class="id" title="var">inst</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#ConstraintSet.fold"><span class="id" title="definition">ConstraintSet.fold</span></a> <a class="idref" href="Template.kernel.uGraph.html#add_constraint"><span class="id" title="definition">add_constraint</span></a> <span class="id" title="var">cstrs</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="add_global_constraints"><span class="id" title="definition">add_global_constraints</span></a> (<span class="id" title="var">uctx</span> : <a class="idref" href="Template.kernel.univ.html#universe_context"><span class="id" title="inductive">universe_context</span></a>) (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a><br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#uctx"><span class="id" title="variable">uctx</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Monomorphic_ctx"><span class="id" title="constructor">Monomorphic_ctx</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">inst</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cstrs</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">s</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#add_node"><span class="id" title="definition">add_node</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Template.kernel.uGraph.html#s"><span class="id" title="variable">s</span></a>) <span class="id" title="var">inst</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#ConstraintSet.fold"><span class="id" title="definition">ConstraintSet.fold</span></a> <a class="idref" href="Template.kernel.uGraph.html#add_constraint"><span class="id" title="definition">add_constraint</span></a> <span class="id" title="var">cstrs</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#Polymorphic_ctx"><span class="id" title="constructor">Polymorphic_ctx</span></a> <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="UGraph"><span class="id" title="section">UGraph</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="61b52b40e3b256ad46856a5bf387334d"><span class="id" title="variable">φ</span></a> : <a class="idref" href="Template.kernel.uGraph.html#t"><span class="id" title="definition">t</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;FIXME&nbsp;duplicates&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="edges"><span class="id" title="definition">edges</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="Template.kernel.uGraph.html#edge"><span class="id" title="definition">edge</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="Template.kernel.univ.html#ConstraintSet.fold"><span class="id" title="definition">ConstraintSet.fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">uc</span> <span class="id" title="var">E</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#edges_of_constraint"><span class="id" title="definition">edges_of_constraint</span></a> <a class="idref" href="Template.kernel.uGraph.html#uc"><span class="id" title="variable">uc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="Template.kernel.uGraph.html#E"><span class="id" title="variable">E</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="Template.kernel.uGraph.html#61b52b40e3b256ad46856a5bf387334d"><span class="id" title="variable">φ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#145bedf8a5d4a541831f3f70db03085c"><span class="id" title="notation">[]</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;The&nbsp;graph&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;For&nbsp;each&nbsp;node&nbsp;we&nbsp;record&nbsp;its&nbsp;predecessos&nbsp;&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="pred_graph"><span class="id" title="definition">pred_graph</span></a> := <a class="idref" href="Template.kernel.univ.html#LevelMap.t"><span class="id" title="definition">LevelMap.t</span></a> (<a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="Zinfty"><span class="id" title="definition">Zinfty</span></a> := (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.pow"><span class="id" title="definition">Z.pow</span></a> 2 6)%<span class="id" title="var">Z</span>. <span class="comment">(*&nbsp;FIXME&nbsp;bigger&nbsp;at&nbsp;least&nbsp;*)</span><br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="add_node_pred_graph"><span class="id" title="definition">add_node_pred_graph</span></a> <span class="id" title="var">l</span> := <a class="idref" href="Template.kernel.univ.html#LevelMap.add"><span class="id" title="definition">LevelMap.add</span></a> <a class="idref" href="Template.kernel.uGraph.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.univ.html#Level.Level"><span class="id" title="constructor">Level.Level</span></a> "nil"<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="Template.kernel.uGraph.html#Zinfty"><span class="id" title="definition">Zinfty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="init_pred_graph"><span class="id" title="definition">init_pred_graph</span></a> : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#LevelSet.fold"><span class="id" title="definition">LevelSet.fold</span></a> <a class="idref" href="Template.kernel.uGraph.html#add_node_pred_graph"><span class="id" title="definition">add_node_pred_graph</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Template.kernel.uGraph.html#61b52b40e3b256ad46856a5bf387334d"><span class="id" title="variable">φ</span></a>) (<a class="idref" href="Template.kernel.univ.html#LevelMap.empty"><span class="id" title="definition">LevelMap.empty</span></a> <span class="id" title="var">_</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="relax"><span class="id" title="definition">relax</span></a> (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a>) (<span class="id" title="var">e</span> : <a class="idref" href="Template.kernel.uGraph.html#edge"><span class="id" title="definition">edge</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.kernel.uGraph.html#e"><span class="id" title="variable">e</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.univ.html#LevelMap.find"><span class="id" title="definition">LevelMap.find</span></a> <span class="id" title="var">u</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>, <a class="idref" href="Template.kernel.univ.html#LevelMap.find"><span class="id" title="definition">LevelMap.find</span></a> <span class="id" title="var">v</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ud</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">vd</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">if</span> <span class="id" title="var">vd</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#b7398b2a514d00d34d9a96540451b7c5"><span class="id" title="notation">&gt;=?</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#b7398b2a514d00d34d9a96540451b7c5"><span class="id" title="notation">(</span></a><span class="id" title="var">ud</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#b7398b2a514d00d34d9a96540451b7c5"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#LevelMap.add"><span class="id" title="definition">LevelMap.add</span></a> <span class="id" title="var">v</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ud</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="BellmanFord"><span class="id" title="definition">BellmanFord</span></a> (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a>) (<span class="id" title="var">s</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G'</span> := <a class="idref" href="Template.kernel.univ.html#LevelMap.add"><span class="id" title="definition">LevelMap.add</span></a> <a class="idref" href="Template.kernel.uGraph.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="Template.kernel.univ.html#Level.Level"><span class="id" title="constructor">Level.Level</span></a> "nil"<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Numbers.BinNums.html#Z0"><span class="id" title="constructor">Z0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G'</span> := <a class="idref" href="Template.kernel.univ.html#LevelMap.fold"><span class="id" title="definition">LevelMap.fold</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="Template.kernel.uGraph.html#relax"><span class="id" title="definition">relax</span></a> <a class="idref" href="Template.kernel.uGraph.html#edges"><span class="id" title="definition">edges</span></a>) <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Template.kernel.uGraph.html#G'"><span class="id" title="variable">G'</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.uGraph.html#G'"><span class="id" title="variable">G'</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;true&nbsp;if&nbsp;there&nbsp;is&nbsp;a&nbsp;negative&nbsp;cycle&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="detect_negative_cycle"><span class="id" title="definition">detect_negative_cycle</span></a> (<span class="id" title="var">G</span> : <a class="idref" href="Template.kernel.uGraph.html#pred_graph"><span class="id" title="definition">pred_graph</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;:= <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Lists.List.html#existsb"><span class="id" title="definition">existsb</span></a> (<span class="id" title="keyword">fun</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><span class="id" title="var">u</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a><span class="id" title="var">w</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.univ.html#LevelMap.find"><span class="id" title="definition">LevelMap.find</span></a> <a class="idref" href="Template.kernel.uGraph.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>, <a class="idref" href="Template.kernel.univ.html#LevelMap.find"><span class="id" title="definition">LevelMap.find</span></a> <a class="idref" href="Template.kernel.uGraph.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ud</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">vd</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.gtb"><span class="id" title="definition">Z.gtb</span></a> <span class="id" title="var">vd</span> (<span class="id" title="var">ud</span> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="Template.kernel.uGraph.html#w"><span class="id" title="variable">w</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>) <a class="idref" href="Template.kernel.uGraph.html#edges"><span class="id" title="definition">edges</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;enforce&nbsp;l1&nbsp;l2&nbsp;=&nbsp;Some&nbsp;n,&nbsp;the&nbsp;graph&nbsp;enforce&nbsp;that&nbsp;l2&nbsp;is&nbsp;at&nbsp;least&nbsp;l1&nbsp;+&nbsp;n&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;i.e.&nbsp;l1&nbsp;+&nbsp;n&nbsp;&lt;=&nbsp;l2&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;If&nbsp;None&nbsp;nothing&nbsp;is&nbsp;enforced&nbsp;by&nbsp;the&nbsp;graph&nbsp;between&nbsp;those&nbsp;two&nbsp;levels&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="enforce"><span class="id" title="definition">enforce</span></a> (<span class="id" title="var">u</span> <span class="id" title="var">v</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <a class="idref" href="Template.kernel.uGraph.html#BellmanFord"><span class="id" title="definition">BellmanFord</span></a> <a class="idref" href="Template.kernel.uGraph.html#init_pred_graph"><span class="id" title="definition">init_pred_graph</span></a> <a class="idref" href="Template.kernel.uGraph.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.univ.html#LevelMap.find"><span class="id" title="definition">LevelMap.find</span></a> <a class="idref" href="Template.kernel.uGraph.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">vd</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.opp"><span class="id" title="definition">Z.opp</span></a> <span class="id" title="var">vd</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_le_level"><span class="id" title="definition">check_le_level</span></a> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#enforce"><span class="id" title="definition">enforce</span></a> <a class="idref" href="Template.kernel.uGraph.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.kernel.uGraph.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.geb"><span class="id" title="definition">Z.geb</span></a> <span class="id" title="var">k</span> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_lt_level"><span class="id" title="definition">check_lt_level</span></a> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#enforce"><span class="id" title="definition">enforce</span></a> <a class="idref" href="Template.kernel.uGraph.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.kernel.uGraph.html#l2"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.geb"><span class="id" title="definition">Z.geb</span></a> <span class="id" title="var">k</span> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_eq_level"><span class="id" title="definition">check_eq_level</span></a> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <a class="idref" href="Template.kernel.univ.html#Level.t"><span class="id" title="inductive">Level.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.uGraph.html#check_le_level"><span class="id" title="definition">check_le_level</span></a> <a class="idref" href="Template.kernel.uGraph.html#l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="Template.kernel.uGraph.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.kernel.uGraph.html#check_le_level"><span class="id" title="definition">check_le_level</span></a> <a class="idref" href="Template.kernel.uGraph.html#l2"><span class="id" title="variable">l2</span></a> <a class="idref" href="Template.kernel.uGraph.html#l1"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_constraint"><span class="id" title="definition">check_constraint</span></a> (<span class="id" title="var">cstr</span> : <a class="idref" href="Template.kernel.univ.html#univ_constraint"><span class="id" title="definition">univ_constraint</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> '<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> := <a class="idref" href="Template.kernel.uGraph.html#cstr"><span class="id" title="variable">cstr</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Eq"><span class="id" title="constructor">ConstraintType.Eq</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_eq_level"><span class="id" title="definition">check_eq_level</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Lt"><span class="id" title="constructor">ConstraintType.Lt</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_lt_level"><span class="id" title="definition">check_lt_level</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="Template.kernel.univ.html#ConstraintType.Le"><span class="id" title="constructor">ConstraintType.Le</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_le_level"><span class="id" title="definition">check_le_level</span></a> <span class="id" title="var">l</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_constraints"><span class="id" title="definition">check_constraints</span></a> (<span class="id" title="var">cstrs</span> : <a class="idref" href="Template.kernel.univ.html#ConstraintSet.t"><span class="id" title="definition">ConstraintSet.t</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#ConstraintSet.for_all"><span class="id" title="definition">ConstraintSet.for_all</span></a> <a class="idref" href="Template.kernel.uGraph.html#check_constraint"><span class="id" title="definition">check_constraint</span></a> <a class="idref" href="Template.kernel.uGraph.html#cstrs"><span class="id" title="variable">cstrs</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_le_level_expr"><span class="id" title="definition">check_le_level_expr</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.Expr.t"><span class="id" title="definition">Universe.Expr.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a>, <a class="idref" href="Template.kernel.uGraph.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_le_level"><span class="id" title="definition">check_le_level</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_lt_level"><span class="id" title="definition">check_lt_level</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#enforce"><span class="id" title="definition">enforce</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.geb"><span class="id" title="definition">Z.geb</span></a> <span class="id" title="var">k</span> (-1)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_lt_level_expr"><span class="id" title="definition">check_lt_level_expr</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.Expr.t"><span class="id" title="definition">Universe.Expr.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a>, <a class="idref" href="Template.kernel.uGraph.html#e2"><span class="id" title="variable">e2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="Template.kernel.uGraph.html#check_lt_level"><span class="id" title="definition">check_lt_level</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#enforce"><span class="id" title="definition">enforce</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.geb"><span class="id" title="definition">Z.geb</span></a> <span class="id" title="var">k</span> 1 <span class="comment">(*&nbsp;Approximation?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l1</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">l2</span><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="Template.kernel.uGraph.html#enforce"><span class="id" title="definition">enforce</span></a> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">k</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.ZArith.BinInt.html#Z.geb"><span class="id" title="definition">Z.geb</span></a> <span class="id" title="var">k</span> 0 <span class="comment">(*&nbsp;Approximation&nbsp;?&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_eq_level_expr"><span class="id" title="definition">check_eq_level_expr</span></a> (<span class="id" title="var">e1</span> <span class="id" title="var">e2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.Expr.t"><span class="id" title="definition">Universe.Expr.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.uGraph.html#check_le_level_expr"><span class="id" title="definition">check_le_level_expr</span></a> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a> <a class="idref" href="Template.kernel.uGraph.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#49ac24efa716d8b0ee8943bc1d1769a9"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="Template.kernel.uGraph.html#check_le_level_expr"><span class="id" title="definition">check_le_level_expr</span></a> <a class="idref" href="Template.kernel.uGraph.html#e2"><span class="id" title="variable">e2</span></a> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="exists_bigger_or_eq"><span class="id" title="definition">exists_bigger_or_eq</span></a> (<span class="id" title="var">e1</span> : <a class="idref" href="Template.kernel.univ.html#Universe.Expr.t"><span class="id" title="definition">Universe.Expr.t</span></a>) (<span class="id" title="var">u2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#Universe.existsb"><span class="id" title="definition">Universe.existsb</span></a> (<a class="idref" href="Template.kernel.uGraph.html#check_le_level_expr"><span class="id" title="definition">check_le_level_expr</span></a> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="Template.kernel.uGraph.html#u2"><span class="id" title="variable">u2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="exists_strictly_bigger"><span class="id" title="definition">exists_strictly_bigger</span></a> (<span class="id" title="var">e1</span> : <a class="idref" href="Template.kernel.univ.html#Universe.Expr.t"><span class="id" title="definition">Universe.Expr.t</span></a>) (<span class="id" title="var">u2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#Universe.existsb"><span class="id" title="definition">Universe.existsb</span></a> (<a class="idref" href="Template.kernel.uGraph.html#check_lt_level_expr"><span class="id" title="definition">check_lt_level_expr</span></a> <a class="idref" href="Template.kernel.uGraph.html#e1"><span class="id" title="variable">e1</span></a>) <a class="idref" href="Template.kernel.uGraph.html#u2"><span class="id" title="variable">u2</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_leq"><span class="id" title="definition">check_leq</span></a> `{<span class="id" title="var">cf</span> : <a class="idref" href="Template.config.html#checker_flags"><span class="id" title="class">checker_flags</span></a>} (<span class="id" title="var">u1</span> <span class="id" title="var">u2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> <a class="idref" href="Template.config.html#check_univs"><span class="id" title="method">check_univs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#14a7a9c7dc61f86bfb664d400fabaf8a"><span class="id" title="notation">||</span></a> <a class="idref" href="Template.kernel.univ.html#Universe.for_all"><span class="id" title="definition">Universe.for_all</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#exists_bigger_or_eq"><span class="id" title="definition">exists_bigger_or_eq</span></a> <a class="idref" href="Template.kernel.uGraph.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Template.kernel.uGraph.html#u2"><span class="id" title="variable">u2</span></a>) <a class="idref" href="Template.kernel.uGraph.html#u1"><span class="id" title="variable">u1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="check_lt"><span class="id" title="definition">check_lt</span></a> (<span class="id" title="var">u1</span> <span class="id" title="var">u2</span> : <a class="idref" href="Template.kernel.univ.html#Universe.t"><span class="id" title="definition">Universe.t</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Template.kernel.univ.html#Universe.for_all"><span class="id" title="definition">Universe.for_all</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">e</span> ⇒ <a class="idref" href="Template.kernel.uGraph.html#exists_strictly_bigger"><span class="id" title="definition">exists_strictly_bigger</span></a> <a class="idref" href="Template.kernel.uGraph.html#e"><span class="id" title="variable">e</span></a> <a class="idref" href="Template.kernel.uGraph.html#u2"><span class="id" title="variable">u2</span></a>) <a class="idref" href="Template.kernel.uGraph.html#u1"><span class="id" title="variable">u1</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="comment">(*&nbsp;true&nbsp;is&nbsp;all&nbsp;is&nbsp;ok&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="no_universe_inconsistency"><span class="id" title="definition">no_universe_inconsistency</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <a class="idref" href="Template.kernel.uGraph.html#BellmanFord"><span class="id" title="definition">BellmanFord</span></a> <a class="idref" href="Template.kernel.uGraph.html#init_pred_graph"><span class="id" title="definition">init_pred_graph</span></a> <a class="idref" href="Template.kernel.univ.html#Level.prop"><span class="id" title="definition">Level.prop</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.9+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="Template.kernel.uGraph.html#detect_negative_cycle"><span class="id" title="definition">detect_negative_cycle</span></a> <a class="idref" href="Template.kernel.uGraph.html#G"><span class="id" title="variable">G</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="Template.kernel.uGraph.html#UGraph"><span class="id" title="section">UGraph</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;Section&nbsp;Test.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;init_graph.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Definition&nbsp;G&nbsp;:=&nbsp;init_graph.&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_leq&nbsp;G&nbsp;Universe.type0m&nbsp;Universe.type0).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G&nbsp;Universe.type0m&nbsp;Universe.type0).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G&nbsp;Universe.type0m&nbsp;Universe.type0m).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G&nbsp;Universe.type0&nbsp;Universe.type0m).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G&nbsp;Universe.type0&nbsp;Universe.type0).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(no_universe_inconsistency&nbsp;G).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Definition&nbsp;G'&nbsp;:=&nbsp;add_constraint&nbsp;(Level.Level&nbsp;"Top.0",&nbsp;Lt,&nbsp;Level.Level&nbsp;"Top.1")&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(add_constraint&nbsp;(Level.Var&nbsp;0,&nbsp;Lt,&nbsp;Level.Var&nbsp;1)&nbsp;G).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.0"))&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;0))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_leq&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.1"))&nbsp;(Universe.make&nbsp;(Level.lProp))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_leq&nbsp;G'&nbsp;(Universe.super&nbsp;(Level.Level&nbsp;"Top.1"))&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.1"))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.1"))&nbsp;(Universe.super&nbsp;(Level.Level&nbsp;"Top.1"))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.1"))&nbsp;(Universe.make&nbsp;(Level.Level&nbsp;"Top.1"))).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;G'.&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(no_universe_inconsistency&nbsp;G').&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;1))&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;0))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_leq&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;0))&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;1))).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;0))&nbsp;(Universe.make&nbsp;(Level.Var&nbsp;1))).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_leq&nbsp;G'&nbsp;Universe.type1&nbsp;Universe.type0).&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(check_lt&nbsp;G'&nbsp;Universe.type1&nbsp;Universe.type1).&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Definition&nbsp;G''&nbsp;:=&nbsp;add_constraint&nbsp;(Level.Var&nbsp;1,&nbsp;Lt,&nbsp;Level.Var&nbsp;2)&nbsp;*)</span><br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(add_constraint&nbsp;(Level.Var&nbsp;2,&nbsp;Lt,&nbsp;Level.lSet)&nbsp;G').&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;&nbsp;&nbsp;Compute&nbsp;(no_universe_inconsistency&nbsp;G'').&nbsp;*)</span><br/>

<br/>
<span class="comment">(*&nbsp;End&nbsp;Test.&nbsp;*)</span><br/>
</div>
<hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>